var VideoConferenceBundle=function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=63)}([function(e,t,n){"use strict";var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":i(window))&&(o=window)}e.exports=o},function(e,t,n){"use strict";"function"==typeof Symbol&&Symbol.iterator;e.exports=n(51)()},function(e,t){e.exports=React},function(e,t,n){"use strict";(function(e){function o(e,n){return n("b"+t.packets[e.type]+e.data.data)}function i(e,n,o){if(!n)return t.encodeBase64Packet(e,o);var i=e.data,r=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=y[e.type];for(var a=0;a<r.length;a++)s[a+1]=r[a];return o(s.buffer)}function r(e,n,o){if(!n)return t.encodeBase64Packet(e,o);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,o)},i.readAsArrayBuffer(e.data)}function s(e,n,o){if(!n)return t.encodeBase64Packet(e,o);if(v)return r(e,n,o);var i=new Uint8Array(1);return i[0]=y[e.type],o(new C([i.buffer,e.data]))}function a(e){try{e=h.decode(e)}catch(e){return!1}return e}function c(e,t,n){for(var o=new Array(e.length),i=p(e.length,n),r=0;r<e.length;r++)!function(e,n,i){t(n,function(t,n){o[e]=n,i(t,o)})}(r,e[r],i)}var u,d=n(44),l=n(18),f=n(32),p=n(31),h=n(62);e&&e.ArrayBuffer&&(u=n(34));var m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),g="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),v=m||g;t.protocol=3;var y=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=d(y),w={type:"error",data:"parser error"},C=n(35);t.encodePacket=function(t,n,r,a){"function"==typeof n&&(a=n,n=!1),"function"==typeof r&&(a=r,r=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return i(t,n,a);if(C&&c instanceof e.Blob)return s(t,n,a);if(c&&c.base64)return o(t,a);var u=y[t.type];return void 0!==t.data&&(u+=r?h.encode(String(t.data)):String(t.data)),a(""+u)},t.encodeBase64Packet=function(n,o){var i="b"+t.packets[n.type];if(C&&n.data instanceof e.Blob){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];o(i+e)},r.readAsDataURL(n.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var a=new Uint8Array(n.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return i+=e.btoa(s),o(i)},t.decodePacket=function(e,n,o){if(void 0===e)return w;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(o&&!1===(e=a(e)))return w;var i=e.charAt(0);return Number(i)==i&&b[i]?e.length>1?{type:b[i],data:e.substring(1)}:{type:b[i]}:w}var r=new Uint8Array(e),i=r[0],s=f(e,1);return C&&"blob"===n&&(s=new C([s])),{type:b[i],data:s}},t.decodeBase64Packet=function(e,t){var n=b[e.charAt(0)];if(!u)return{type:n,data:{base64:!0,data:e.substr(1)}};var o=u.decode(e.substr(1));return"blob"===t&&C&&(o=new C([o])),{type:n,data:o}},t.encodePayload=function(e,n,o){function i(e){return e.length+":"+e}function r(e,o){t.encodePacket(e,!!s&&n,!0,function(e){o(null,i(e))})}"function"==typeof n&&(o=n,n=null);var s=l(e);return n&&s?C&&!v?t.encodePayloadAsBlob(e,o):t.encodePayloadAsArrayBuffer(e,o):e.length?void c(e,r,function(e,t){return o(t.join(""))}):o("0:")},t.decodePayload=function(e,n,o){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,o);"function"==typeof n&&(o=n,n=null);var i;if(""==e)return o(w,0,1);for(var r,s,a="",c=0,u=e.length;c<u;c++){var d=e.charAt(c);if(":"!=d)a+=d;else{if(""==a||a!=(r=Number(a)))return o(w,0,1);if(s=e.substr(c+1,r),a!=s.length)return o(w,0,1);if(s.length){if(i=t.decodePacket(s,n,!0),w.type==i.type&&w.data==i.data)return o(w,0,1);if(!1===o(i,c+r,u))return}c+=r,a=""}}return""!=a?o(w,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function o(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}if(!e.length)return n(new ArrayBuffer(0));c(e,o,function(e,t){var o=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(o),r=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var o=new Uint8Array(e.length),s=0;s<e.length;s++)o[s]=e.charCodeAt(s);n=o.buffer}i[r++]=t?0:1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)i[r++]=parseInt(a[s]);i[r++]=255;for(var o=new Uint8Array(n),s=0;s<o.length;s++)i[r++]=o[s]}),n(i.buffer)})},t.encodePayloadAsBlob=function(e,n){function o(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var o=new Uint8Array(e.length),i=0;i<e.length;i++)o[i]=e.charCodeAt(i);e=o.buffer,t[0]=0}for(var r=e instanceof ArrayBuffer?e.byteLength:e.size,s=r.toString(),a=new Uint8Array(s.length+1),i=0;i<s.length;i++)a[i]=parseInt(s[i]);if(a[s.length]=255,C){var c=new C([t.buffer,a.buffer,e]);n(null,c)}})}c(e,o,function(e,t){return n(new C(t))})},t.decodePayloadAsBinary=function(e,n,o){"function"==typeof n&&(o=n,n=null);for(var i=e,r=[],s=!1;i.byteLength>0;){for(var a=new Uint8Array(i),c=0===a[0],u="",d=1;255!=a[d];d++){if(u.length>310){s=!0;break}u+=a[d]}if(s)return o(w,0,1);i=f(i,2+u.length),u=parseInt(u);var l=f(i,0,u);if(c)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(e){var p=new Uint8Array(l);l="";for(var d=0;d<p.length;d++)l+=String.fromCharCode(p[d])}r.push(l),i=f(i,u)}var h=r.length;r.forEach(function(e,i){o(t.decodePacket(e,n,!0),i,h)})}}).call(t,n(0))},function(e,t,n){"use strict";e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";(function(o){function i(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var o="color: "+this.color;e=[e[0],o,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,r=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))}),e.splice(r,0,o),e}function s(){return"object"===("undefined"==typeof console?"undefined":u(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){try{return t.storage.debug}catch(e){}if(void 0!==o&&"env"in o)return o.env.DEBUG}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t=e.exports=n(43),t.log=s,t.formatArgs=r,t.save=a,t.load=c,t.useColors=i,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(c())}).call(t,n(12))},function(e,t,n){"use strict";(function(o){function i(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var o="color: "+this.color;e=[e[0],o,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,r=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))}),e.splice(r,0,o),e}function s(){return"object"===("undefined"==typeof console?"undefined":u(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function c(){try{return t.storage.debug}catch(e){}if(void 0!==o&&"env"in o)return o.env.DEBUG}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t=e.exports=n(55),t.log=s,t.formatArgs=r,t.save=a,t.load=c,t.useColors=i,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(c())}).call(t,n(12))},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,n){"use strict";function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}var i=n(3),r=n(10);e.exports=o,r(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){"use strict";(function(t){var o=n(48);e.exports=function(e){var n=e.xdomain,i=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||o))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!i&&r)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,n(0))},function(e,t,n){"use strict";function o(e){if(e)return i(e)}function i(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o,i=0;i<n.length;i++)if((o=n[i])===t||o.fn===t){n.splice(i,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var o=0,i=n.length;o<i;++o)n[o].apply(this,t)}return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),o=0,i=n.length;o<i;o++){var r=n[o].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}},function(e,t,n){"use strict";function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===o||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){g&&h&&(g=!1,h.length?m=h.concat(m):v=-1,m.length&&c())}function c(){if(!g){var e=r(a);g=!0;for(var t=m.length;t;){for(h=m,m=[];++v<t;)h&&h[v].run();v=-1,t=m.length}h=null,g=!1,s(e)}}function u(e,t){this.fun=e,this.array=t}function d(){}var l,f,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:o}catch(e){l=o}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var h,m=[],g=!1,v=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];m.push(new u(e,t)),1!==m.length||g||r(c)},u.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=d,p.addListener=d,p.once=d,p.off=d,p.removeListener=d,p.removeAllListeners=d,p.emit=d,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,n){"use strict";function o(){}function i(e){var n="",o=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(o=!0,n+=e.nsp),null!=e.id&&(o&&(n+=",",o=!1),n+=e.id),null!=e.data&&(o&&(n+=","),n+=f.stringify(e.data)),l("encoded %j as %s",e,n),n}function r(e,t){function n(e){var n=h.deconstructPacket(e),o=i(n.packet),r=n.buffers;r.unshift(o),t(r)}h.removeBlobs(e,n)}function s(){this.reconstructor=null}function a(e){var n={},o=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return d();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var i="";"-"!=e.charAt(++o)&&(i+=e.charAt(o),o!=e.length););if(i!=Number(i)||"-"!=e.charAt(o))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"==e.charAt(o+1))for(n.nsp="";++o;){var r=e.charAt(o);if(","==r)break;if(n.nsp+=r,o==e.length)break}else n.nsp="/";var s=e.charAt(o+1);if(""!==s&&Number(s)==s){for(n.id="";++o;){var r=e.charAt(o);if(null==r||Number(r)!=r){--o;break}if(n.id+=e.charAt(o),o==e.length)break}n.id=Number(n.id)}return e.charAt(++o)&&(n=c(n,e.substr(o))),l("decoded %s as %j",e,n),n}function c(e,t){try{e.data=f.parse(t)}catch(e){return d()}return e}function u(e){this.reconPack=e,this.buffers=[]}function d(e){return{type:t.ERROR,data:"parser error"}}var l=n(57)("socket.io-parser"),f=n(49),p=n(36),h=n(56),m=n(26);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=o,t.Decoder=s,o.prototype.encode=function(e,n){if(l("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)r(e,n);else{n([i(e)])}},p(s.prototype),s.prototype.add=function(e){var n;if("string"==typeof e)n=a(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new u(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!m(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},s.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=h.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var o=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=o.call(arguments,2);return function(){return t.apply(e,n.concat(o.call(arguments)))}}},function(e,t,n){"use strict";(function(e){function o(t){var n=!1,o=!1,a=!1!==t.jsonp;if(e.location){var c="https:"===location.protocol,u=location.port;u||(u=c?443:80),n=t.hostname!==location.hostname||u!==t.port,o=t.secure!==c}if(t.xdomain=n,t.xscheme=o,"open"in new i(t)&&!t.forceJSONP)return new r(t);if(!a)throw new Error("JSONP disabled");return new s(t)}var i=n(9),r=n(41),s=n(40),a=n(42);t.polling=o,t.websocket=a}).call(t,n(0))},function(e,t,n){"use strict";function o(e){var t=e&&e.forceBase64;d&&!t||(this.supportsBinary=!1),i.call(this,e)}var i=n(8),r=n(11),s=n(3),a=n(4),c=n(27),u=n(5)("engine.io-client:polling");e.exports=o;var d=function(){return null!=new(n(9))({xdomain:!1}).responseType}();a(o,i),o.prototype.name="polling",o.prototype.doOpen=function(){this.poll()},o.prototype.pause=function(e){function t(){u("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var o=0;this.polling&&(u("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){u("pre-pause polling complete"),--o||t()})),this.writable||(u("we are currently writing - waiting to pause"),o++,this.once("drain",function(){u("pre-pause writing complete"),--o||t()}))}else t()},o.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},o.prototype.onData=function(e){var t=this;u("polling got data %s",e);var n=function(e,n,o){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)};s.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},o.prototype.doClose=function(){function e(){u("writing close packet"),t.write([{type:"close"}])}var t=this;"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},o.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};s.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},o.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=r.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){"use strict";(function(t){function o(e){function n(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(r(e)){for(var o=0;o<e.length;o++)if(n(e[o]))return!0}else if(e&&"object"==(void 0===e?"undefined":i(e))){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&n(e[s]))return!0}return!1}return n(e)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(47);e.exports=o}).call(t,n(0))},function(e,t,n){"use strict";var o=[].indexOf;e.exports=function(e,t){if(o)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){"use strict";function o(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*d;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function i(e){return e>=l?Math.round(e/l)+"d":e>=d?Math.round(e/d)+"h":e>=u?Math.round(e/u)+"m":e>=c?Math.round(e/c)+"s":e+"ms"}function r(e){return s(e,l,"day")||s(e,d,"hour")||s(e,u,"minute")||s(e,c,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=1e3,u=60*c,d=60*u,l=24*d,f=365.25*l;e.exports=function(e,t){t=t||{};var n=void 0===e?"undefined":a(e);if("string"===n&&e.length>0)return o(e);if("number"===n&&!1===isNaN(e))return t.long?r(e):i(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var o=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var s=o.exec(e||""),a={},c=14;c--;)a[i[c]]=s[c]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,n){"use strict";function o(e,t){if(!(this instanceof o))return new o(e,t);e&&"object"===(void 0===e?"undefined":i(e))&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new c.Encoder,this.decoder=new c.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(37),s=n(24),a=n(25),c=n(13),u=n(23),d=n(15),l=n(6)("socket.io-client:manager"),f=n(19),p=n(33),h=Object.prototype.hasOwnProperty;e.exports=o,o.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},o.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},a(o.prototype),o.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},o.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},o.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},o.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},o.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},o.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},o.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},o.prototype.open=o.prototype.connect=function(e,t){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=u(n,"open",function(){o.onopen(),e&&e()}),s=u(n,"error",function(t){if(l("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;l("connect attempt will timeout after %d",a);var c=setTimeout(function(){l("connect attempt timed out after %d",a),i.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(c)}})}return this.subs.push(i),this.subs.push(s),this},o.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",d(this,"ondata"))),this.subs.push(u(e,"ping",d(this,"onping"))),this.subs.push(u(e,"pong",d(this,"onpong"))),this.subs.push(u(e,"error",d(this,"onerror"))),this.subs.push(u(e,"close",d(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",d(this,"ondecoded")))},o.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},o.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},o.prototype.ondata=function(e){this.decoder.add(e)},o.prototype.ondecoded=function(e){this.emit("packet",e)},o.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},o.prototype.socket=function(e,t){function n(){~f(i.connecting,o)||i.connecting.push(o)}var o=this.nsps[e];if(!o){o=new s(this,e,t),this.nsps[e]=o;var i=this;o.on("connecting",n),o.on("connect",function(){o.id=i.engine.id}),this.autoConnect&&n()}return o},o.prototype.destroy=function(e){var t=f(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},o.prototype.packet=function(e){l("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var o=0;o<n.length;o++)t.engine.write(n[o],e.options);t.encoding=!1,t.processPacketQueue()}))},o.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},o.prototype.cleanup=function(){l("cleanup");for(var e=this.subs.length,t=0;t<e;t++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},o.prototype.close=o.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},o.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},o.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},o.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){"use strict";function o(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=o},function(e,t,n){"use strict";function o(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var i=n(13),r=n(25),s=n(61),a=n(23),c=n(15),u=n(6)("socket.io-client:socket"),d=n(18);e.exports=o;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=r.prototype.emit;r(o.prototype),o.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",c(this,"onopen")),a(e,"packet",c(this,"onpacket")),a(e,"close",c(this,"onclose"))]}},o.prototype.open=o.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},o.prototype.send=function(){var e=s(arguments);return e.unshift("message"),this.emit.apply(this,e),this},o.prototype.emit=function(e){if(l.hasOwnProperty(e))return f.apply(this,arguments),this;var t=s(arguments),n=i.EVENT;d(t)&&(n=i.BINARY_EVENT);var o={type:n,data:t};return o.options={},o.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),o.id=this.ids++),this.connected?this.packet(o):this.sendBuffer.push(o),delete this.flags,this},o.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},o.prototype.onopen=function(){u("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:i.CONNECT,query:this.query}):this.packet({type:i.CONNECT}))},o.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},o.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},o.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},o.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var o=s(arguments);u("sending ack %j",o);var r=d(o)?i.BINARY_ACK:i.ACK;t.packet({type:r,id:e,data:o})}}},o.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},o.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},o.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},o.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},o.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},o.prototype.close=o.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},o.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t,n){"use strict";function o(e){if(e)return i(e)}function i(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},o.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o,i=0;i<n.length;i++)if((o=n[i])===t||o.fn===t){n.splice(i,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var o=0,i=n.length;o<i;++o)n[o].apply(this,t)}return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(t,n(0))},function(e,t,n){"use strict";function o(e){var t="";do{t=a[e%c]+t,e=Math.floor(e/c)}while(e>0);return t}function i(e){var t=0;for(l=0;l<e.length;l++)t=t*c+u[e.charAt(l)];return t}function r(){var e=o(+new Date);return e!==s?(d=0,s=e):e+"."+o(d++)}for(var s,a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),c=64,u={},d=0,l=0;l<c;l++)u[a[l]]=l;r.encode=o,r.decode=i,e.exports=r},function(e,t,n){"use strict";(function(e){function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),d=o(u),l=n(1),f=o(l);n(52);var p=n(53),h=o(p),m=n(66),g=o(m),v=n(67),y=o(v),b=n(68),w=o(b),C=n(65),S=o(C),k=function(o){function u(){i(this,u);var e=r(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments));return console.log("VideoConferenceContainer constructor: -> "+JSON.stringify(e.props)),e.isExiting=!1,e.isExited=!1,e.roomId=e.props.roomId,e.listenAgain=e.props.listenAgain,e.roomFull=!1,e.isClient,e.isConnected=!1,e.chat=!1,e.onRemoteNotice=null,e.onRemoteReceive=null,e.onClearChat=null,e.state={isConnected:!1,video:e.props.video,miniature:!1,localStreamConf:{},remoteStreamConf:{}},e.callbackHandlers={toggleConnection:e.toggleConnection.bind(e),toggleMedia:e.toggleMedia.bind(e),toggleZoom:e.toggleZoom.bind(e),onExit:e.onExit.bind(e)},window.io=h.default,e.createConnection(),e.roomId&&e.connection&&e.connection.openOrJoin(e.roomId,e.onRoomDefined.bind(e)),e}return s(u,o),c(u,[{key:"createConnection",value:function(){this.connection=new RTCMultiConnection,console.log("channel-id is",this.connection.channel),this.connection.socketURL=this.props.socketIoServer,this.connection.socketMessageEvent="video-conference-demo",this.connection.session={audio:!0,video:!0,data:!0},this.connection.sdpConstraints.mandatory={OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},this.connection.mediaConstraints={audio:!0,video:this.state.video},this.connection.autoCloseEntireSession=!0,this.connection.maxParticipantsAllowed=1,this.connection.onMediaError=this.onMediaError.bind(this),this.connection.onExtraDataUpdated=this.onExtraDataUpdated.bind(this),this.connection.onmessage=this.onMessage.bind(this),this.connection.onstream=this.onStream.bind(this),this.connection.onstreamended=this.onStreamEnded.bind(this),this.connection.onRoomFull=this.onRoomFull.bind(this)}},{key:"loadSocketIo",value:function(o){if(console.log("loadSocketIo src="+o),window.io)this.state.socketLoading=!1,this.roomId&&this.connection&&this.connection.openOrJoin(this.roomId,this.onRoomDefined.bind(this));else{this.state.socketLoading=!0;var i=this;if("object"===a(t)&&"object"===a(e)||!n(7)){var r=document.createElement("script");r.type="text/javascript",document.head.appendChild(r),r.onload=function(e){console.log(e.target.src+" loaded."),console.log("<script> -> window.io is: "+a(window.io)),i.roomId&&i.connection&&i.connection.openOrJoin(i.roomId,i.onRoomDefined.bind(i)),i.setState({socketLoading:!1})},r.src=o}else console.log("AMD loading for io ..."),alert("ERROR: socket.io not loaded !")}}},{key:"closeAll",value:function(){console.log("closeAll..."),this.connection&&(this.connection.attachStreams.forEach(function(e){console.log("closeAll: "+JSON.stringify(e)),e.stop()}),this.connection.closeSocket()),this.connection=void 0}},{key:"onMediaError",value:function(e){console.log("onMediaError: "+e+" / "+JSON.stringify(e)),this.state.video?(this.closeAll(),alert("Une ressource Audio/Video n'a pas été trouvée.\n\nTentative de relance sans utiliser la webcam"),this.setState({video:!1}),this.createConnection(),this.toggleConnection()):alert("Une ressource Audio/Video n'a pas été trouvée.\n\nAbandon")}},{key:"onRoomDefined",value:function(e,t){console.log("onRoomDefined: isRoomExists = "+e),console.log("onRoomDefined: roomid = "+t),this.isClient!==e&&(this.isClient=e,this.props.callbacks.onModeDefine&&this.props.callbacks.onModeDefine(this.isClient)),this.roomFull=!1,this.connection.socket.on(this.connection.socketCustomEvent,this.onCustomEvent.bind(this))}},{key:"onCustomEvent",value:function(e){if(console.log("Receive socketCustomEvent 1 = "+JSON.stringify(e)),this.isConnected){var t=document.getElementById(this.state.remoteStreamConf.streamId);t&&setTimeout(function(){t.play()},3e3)}if(this.onRemoteNotice){var n="**** ";"audio"===e.media?n+="MICRO distant "+(e.muted?"coupé":"allumé"):n+="WEBCAM distante "+(e.muted?"coupée":"allumée"),n+=". ****",this.onRemoteNotice(n)}}},{key:"onExtraDataUpdated",value:function(e){var t=e.extra.modifiedValue,n=e.userid;if(t&&t.cmd){console.log("EXTRA: "+n+" modified "+t),this.isExiting=!0;var o=this;setTimeout(function(){o.onExit.call(o,!1,!1)},2e3)}}},{key:"onMessage",value:function(e){console.log("onMessage: "+JSON.stringify(e));var t=e.data;this.onRemoteReceive&&this.onRemoteReceive(t)}},{key:"assignRemoteNotice",value:function(e){this.onRemoteNotice=e}},{key:"assignRemoteReceive",value:function(e){this.onRemoteReceive=e}},{key:"assignClearChat",value:function(e){this.onClearChat=e}},{key:"onStream",value:function(e){var t={};console.log("onStream: "+JSON.stringify(e)),t.type=e.type,t.userId=e.userid,t.streamId=e.streamid,t.mediaElement=e.mediaElement,console.log("onStream: mediaElement "+e.mediaElement),e.mediaElement.controls=!1,this._onNewStreamConf(t)}},{key:"onStreamEnded",value:function(e){if(console.log("onStreamEnded: "+JSON.stringify(e)),("remote"!==e.type||this.isConnected)&&("local"!==e.type||this.state.localStreamConf.mediaElement)){var t={};t.type=e.type,t.userId=e.userid,this._onNewStreamConf(t)}}},{key:"_onNewStreamConf",value:function(e){if(this.isExited)return void console.log("_onNewStreamConf ... no action (exited ...).");if("local"===e.type)console.log("localStreamConf="+JSON.stringify(e)),this.setState({localStreamConf:e});else if(console.log("remoteStreamConf="+JSON.stringify(e)),e.streamId)this.isConnected=!0,this.chat=this.props.chat,this.onClearChat&&this.onClearChat(),this.setState({isConnected:this.isConnected,miniature:!0,ring:this.props.ringIn,remoteStreamConf:e}),this.props.callbacks.onConnect&&this.props.callbacks.onConnect(!0);else{if(console.log("VideoConferenceContainer roomId / listenAgain ..."+this.roomId+" / "+this.listenAgain+" / "+this.isClient),this.roomId&&this.listenAgain&&this.isClient&&!this.isExiting){var t=this;setTimeout(function(){console.log("_onNewStreamConf -> openOrJoin"),t.connection.openOrJoin(t.roomId,t.onRoomDefined.bind(t))},3e3)}this.isConnected=!1,this.chat=this.props.chat,this.setState({isConnected:this.isConnected,miniature:!1,ring:this.props.ringOut,remoteStreamConf:e}),this.props.callbacks.onConnect&&this.props.callbacks.onConnect(!1)}}},{key:"onRoomFull",value:function(){this.roomFull=!0,console.log("Room is full."),alert("Occupé : Deux correspondants sont déjà en ligne.\n\nAbandon."),this.closeAll()}},{key:"toggleConnection",value:function(e){if(console.log("VideoConferenceContainer: toggleConnexion, isConnected:"+this.state.isConnected+", initiator:"+this.connection.isInitiator),this.state.isConnected){this.listenAgain=!1;var t=this;if(this.connection.getAllParticipants().forEach(function(e){console.log("toggleConnection: participantId: "+e);var n=t.connection.peers[e];console.log("toggleConnection: peer: "+JSON.stringify(n)),t.connection.disconnectWith(e)}),this.connection.isInitiator&&!this.isExiting&&(console.log("toggleConnection: disconnect ... "),this.closeAll(),this.createConnection(),this.roomId)){var t=this;setTimeout(function(){t.connection.openOrJoin(t.roomId,t.onRoomDefined.bind(t))},5e3)}}else this.listenAgain=this.props.listenAgain,console.log("VideoConferenceContainer: toggleConnexion-> openOrJoin ..."),this.connection.openOrJoin(this.roomId,this.onRoomDefined.bind(this))}},{key:"toggleMedia1",value:function(e,t){var n=this.state.localStreamConf.streamId;console.log("VideoConferenceContainer: toggleMedia "+n+" / '"+e+"' -> "+t),t?this.connection.streamEvents[n].stream.unmute(e):this.connection.streamEvents[n].stream.mute(e)}},{key:"toggleMedia",value:function(e,t){var n=this.connection.streamEvents[this.state.localStreamConf.streamId];console.log("VideoConferenceContainer: toggleMedia "+this.state.localStreamConf.streamId+" / '"+e+"' -> "+t);var o=this;"video"===e?n.stream.getVideoTracks().forEach(function(n){n.enabled=t,o.connection.socket.emit(o.connection.socketCustomEvent,{media:e,muted:!t,trackId:n.id})}):n.stream.getAudioTracks().forEach(function(n){n.enabled=t,o.connection.socket.emit(o.connection.socketCustomEvent,{media:e,muted:!t,trackId:n.id})})}},{key:"toggleZoom",value:function(e){console.log("VideoConferenceContainer: toggleZoom -> "+e),e?this.launchFullscreen(document.getElementById("media-containers")):this.exitFullScreen()}},{key:"launchFullscreen",value:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}},{key:"exitFullScreen",value:function(){document.fullscreen&&document.cancelFullScreen(),document.mozFullScreen&&document.mozCancelFullScreen(),document.webkitIsFullScreen&&document.webkitCancelFullScreen()}},{key:"onExit",value:function(e,t){console.log("VideoConferenceContainer onExit: "+e+" / "+t+" / "+this.props.exitPropagate+" / "+this.state.isConnected),t&&this.props.exitPropagate&&this.state.isConnected&&(console.log("Requester propagate with extra ..."),this.connection.extra.modifiedValue={cmd:"exit"},this.connection.updateExtraData()),console.log("VideoConferenceContainer: onExit ...step 1"),this.isExiting=!0,this.state.isConnected&&this.toggleConnection(),console.log("VideoConferenceContainer: onExit ...step 2"),this.closeAll(),console.log("VideoConferenceContainer: onExit ...step 3"),this.props.callbacks.onExit&&this.props.callbacks.onExit(e,t)}},{key:"onLocalSend",value:function(e){console.log("VideoConferenceContainer onLocalSend ... "+e),this.props.callbacks.onLocalSend&&this.props.callbacks.onLocalSend(e),this.isConnected&&this.connection.send(e)}},{key:"componentWillUnmount",value:function(){console.log("VideoConferenceContainer Unmount ..."),this.isExiting||this.onExit(!1,!0),this.isExited=!0}},{key:"componentWillReceiveProps",value:function(e){console.log("VideoConferenceContainer receive props ..."+JSON.stringify(e)+" / "+this.props.roomId+" / "+this.roomId),this.roomId&&this.roomId===e.roomId||(this.roomId&&(this.roomId="",this.state.isConnected&&this.toggleConnection(),this.closeAll(),this.createConnection()),this.roomId=e.roomId,this.roomId&&(console.log("VideoConferenceContainer openOrJoin: '"+this.roomId+"'"),this.connection.openOrJoin(this.roomId,this.onRoomDefined.bind(this)))),this.listenAgain=e.listenAgain}},{key:"render",value:function(){if(console.log("VideoConferenceContainer: render(), listenAgain:"+this.listenAgain+", props.listenAgain:"+this.props.listenAgain),!this.roomId)return d.default.createElement("div",{className:"media-message"},"En attente de RoomId ...");if(this.roomFull)return d.default.createElement("div",{className:"media-message"},"La connexion est occupée ('",this.roomId,"') ...");if(this.isExiting)return d.default.createElement("div",{className:"media-message"},d.default.createElement(g.default,{sound:this.props.ringOut}),"La vidéo conférence est terminée ...");if(!this.state.localStreamConf.streamId&&!this.state.remoteStreamConf.streamId)return d.default.createElement("div",{className:"media-message"},d.default.createElement(g.default,{sound:this.props.ringStart}),"Initialisation de la vidéo conférence ...");var e=void 0;this.state.ring&&(e=d.default.createElement(g.default,{sound:this.state.ring}));var t=void 0,n=void 0;return this.props.chat&&(this.chat||this.isConnected)?(n=" media-containers-with-chat",t=d.default.createElement(S.default,{initMessages:this.props.initMessages,assignRemoteNotice:this.assignRemoteNotice.bind(this),assignRemoteReceive:this.assignRemoteReceive.bind(this),assignClearChat:this.assignClearChat.bind(this),onLocalSend:this.onLocalSend.bind(this)})):(n="",t=null),console.log("VideoConferenceContainer render() -> "+this.roomId),d.default.createElement("div",{className:"video-conference-container"},d.default.createElement("div",{id:"media-containers",className:"media-containers"+n},e,d.default.createElement(y.default,{type:"local",isClient:this.isClient,streamConf:this.state.localStreamConf,isConnected:this.state.isConnected,miniature:this.state.miniature}),d.default.createElement(y.default,{type:"remote",isClient:this.isClient,streamConf:this.state.remoteStreamConf,isConnected:this.state.isConnected,miniature:!1}),d.default.createElement(w.default,{callbacks:this.callbackHandlers,webcamExists:this.state.video,isClient:this.isClient,isConnected:this.state.isConnected})),t)}}]),u}(u.Component);k.propTypes={roomId:f.default.string.isRequired,video:f.default.bool,chat:f.default.bool,listenAgain:f.default.bool,exitPropagate:f.default.bool,socketIoServer:f.default.string.isRequired,callbacks:f.default.object,initMessages:f.default.array,ringIn:f.default.string,ringOut:f.default.string,ringStart:f.default.string},k.defaultProps={roomId:"",video:!0,chat:!1,listenAgain:!1,exitPropagate:!0,socketIoServer:"https://rtcmulticonnection.herokuapp.com:443/",callbacks:{},initMessages:[],ringIn:"ring-in.mp3",ringOut:"ring-out.mp3",ringStart:"ring-start.mp3"},t.default=k}).call(t,n(14)(e))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),u=o(c),d=n(1),l=o(d),f=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return console.log("VideoConferenceTestBar constructor ..."+JSON.stringify(e.props)),e.state={listenAgain:e.props.listenAgain,exitPropagate:e.props.exitPropagate,video:e.props.video,chat:e.props.chat,roomId:e.props.roomId},e}return s(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){console.log("VideoConferenceTestBar receive props ..."+JSON.stringify(e))}},{key:"handleRoomIdChange",value:function(e){this.setState({roomId:e.target.value})}},{key:"handleListenAgainChange",value:function(e){console.log("VideoConferenceTestBar handleListenAgainChange..."+e.target.checked),this.setState({listenAgain:e.target.checked}),this.props.onListenAgainDefine(e.target.checked)}},{key:"handleExitPropagateChange",value:function(e){console.log("VideoConferenceTestBar handleExitPropagateChange..."+e.target.checked),this.setState({exitPropagate:e.target.checked}),this.props.onExitPropagateDefine(e.target.checked)}},{key:"handleVideoChange",value:function(e){console.log("VideoConferenceTestBar handleVideoChange..."+e.target.checked),this.setState({video:e.target.checked}),this.props.onVideoDefine(e.target.checked)}},{key:"handleChatChange",value:function(e){console.log("VideoConferenceTestBar handleChatChange..."+e.target.checked),this.setState({chat:e.target.checked}),this.props.onChatDefine(e.target.checked)}},{key:"handleConnection",value:function(){this.props.onRoomIdDefine(this.state.roomId)}},{key:"render",value:function(){var e="Inconnu";return"true"===this.props.isClient&&(e="Client"),"false"===this.props.isClient&&(e="Serveur"),this.props.roomId?this.props.connected&&(e+=" connecté"):e="("+e+")",this.props.exited&&(e="("+e+" exited)"),u.default.createElement("div",{className:"video-conference-test-bar"},u.default.createElement("span",{style:{fontWeight:"bold",marginRight:"20px"}},"TEST: "),u.default.createElement("span",null,"Status:"+e+",  "),u.default.createElement("label",null,u.default.createElement("input",{type:"checkbox",checked:this.state.listenAgain,onChange:this.handleListenAgainChange.bind(this)}),":ListenAgain, "),u.default.createElement("label",null,u.default.createElement("input",{type:"checkbox",checked:this.state.exitPropagate,onChange:this.handleExitPropagateChange.bind(this)}),":ExitPropagate, "),u.default.createElement("label",null,u.default.createElement("input",{type:"checkbox",checked:this.state.video,onChange:this.handleVideoChange.bind(this)}),":Video, "),u.default.createElement("label",null,u.default.createElement("input",{type:"checkbox",checked:this.state.chat,onChange:this.handleChatChange.bind(this)}),":Chat, "),u.default.createElement("br",null),u.default.createElement("input",{type:"text",id:"room-id",placeholder:"... roomId",autoCorrect:"off",autoCapitalize:"off",size:"15",value:this.state.roomId,onChange:this.handleRoomIdChange.bind(this)})," ",u.default.createElement("button",{onClick:this.handleConnection.bind(this)},"Connexion"))}}]),t}(c.Component);f.propTypes={isClient:l.default.string.isRequired,exited:l.default.bool.isRequired,listenAgain:l.default.bool,exitPropagate:l.default.bool,video:l.default.bool,chat:l.default.bool,roomId:l.default.string.isRequired,onRoomIdDefine:l.default.func.isRequired,onListenAgainDefine:l.default.func.isRequired,onExitPropagateDefine:l.default.func.isRequired,onVideoDefine:l.default.func.isRequired,onChatDefine:l.default.func.isRequired},t.default=f},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";function o(e,t,n){function o(e,i){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(r=!0,t(e),t=n):0!==o.count||r||t(null,i)}var r=!1;return n=n||i,o.count=e,0===e?t():o}function i(){}e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t,n){var o=e.byteLength;if(t=t||0,n=n||o,e.slice)return e.slice(t,n);if(t<0&&(t+=o),n<0&&(n+=o),n>o&&(n=o),t>=o||t>=n||0===o)return new ArrayBuffer(0);for(var i=new Uint8Array(e),r=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)r[a]=i[s];return r.buffer}},function(e,t,n){"use strict";function o(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=o,o.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},o.prototype.reset=function(){this.attempts=0},o.prototype.setMin=function(e){this.ms=e},o.prototype.setMax=function(e){this.max=e},o.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";!function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),o=0;o<e.length;o++)n[e.charCodeAt(o)]=o;t.encode=function(t){var n,o=new Uint8Array(t),i=o.length,r="";for(n=0;n<i;n+=3)r+=e[o[n]>>2],r+=e[(3&o[n])<<4|o[n+1]>>4],r+=e[(15&o[n+1])<<2|o[n+2]>>6],r+=e[63&o[n+2]];return i%3==2?r=r.substring(0,r.length-1)+"=":i%3==1&&(r=r.substring(0,r.length-2)+"=="),r},t.decode=function(e){var t,o,i,r,s,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var d=new ArrayBuffer(a),l=new Uint8Array(d);for(t=0;t<c;t+=4)o=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],r=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],l[u++]=o<<2|i>>4,l[u++]=(15&i)<<4|r>>2,l[u++]=(3&r)<<6|63&s;return d}}()},function(e,t,n){"use strict";(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var o=n.buffer;if(n.byteLength!==o.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(o,n.byteOffset,n.byteLength)),o=i.buffer}e[t]=o}}}function o(e,t){t=t||{};var o=new r;n(e);for(var i=0;i<e.length;i++)o.append(e[i]);return t.type?o.getBlob(t.type):o.getBlob()}function i(e,t){return n(e),new Blob(e,t||{})}var r=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,s=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),a=s&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),c=r&&r.prototype.append&&r.prototype.getBlob;e.exports=function(){return s?a?t.Blob:i:c?o:void 0}()}).call(t,n(0))},function(e,t,n){"use strict";function o(e){if(e)return i(e)}function i(e){for(var t in o.prototype)e[t]=o.prototype[t];return e}e.exports=o,o.prototype.on=o.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},o.prototype.once=function(e,t){function n(){o.off(e,n),t.apply(this,arguments)}var o=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},o.prototype.off=o.prototype.removeListener=o.prototype.removeAllListeners=o.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var o,i=0;i<n.length;i++)if((o=n[i])===t||o.fn===t){n.splice(i,1);break}return this},o.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var o=0,i=n.length;o<i;++o)n[o].apply(this,t)}return this},o.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},o.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";e.exports=n(38)},function(e,t,n){"use strict";e.exports=n(39),e.exports.parser=n(3)},function(e,t,n){"use strict";(function(t){function o(e,n){if(!(this instanceof o))return new o(e,n);n=n||{},e&&"object"===(void 0===e?"undefined":r(e))&&(n=e,e=null),e?(e=l(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=l(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized,this.forceNode=!!n.forceNode;var i="object"===(void 0===t?"undefined":r(t))&&t;i.global===i&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function i(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(16),a=n(10),c=n(5)("engine.io-client:socket"),u=n(19),d=n(3),l=n(21),f=n(50),p=n(11);e.exports=o,o.priorWebsocketSuccess=!1,a(o.prototype),o.protocol=d.protocol,o.Socket=o,o.Transport=n(8),o.transports=n(16),o.parser=n(3),o.prototype.createTransport=function(e){c('creating transport "%s"',e);var t=i(this.query);return t.EIO=d.protocol,t.transport=e,this.id&&(t.sid=this.id),new s[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders,forceNode:this.forceNode,localAddress:this.localAddress})},o.prototype.open=function(){var e;if(this.rememberUpgrade&&o.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},o.prototype.setTransport=function(e){c("setting transport %s",e.name);var t=this;this.transport&&(c("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},o.prototype.probe=function(e){function t(){if(f.onlyBinaryUpgrades){var t=!this.supportsBinary&&f.transport.supportsBinary;l=l||t}l||(c('probe transport "%s" opened',e),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(t){if(!l)if("pong"===t.type&&"probe"===t.data){if(c('probe transport "%s" pong',e),f.upgrading=!0,f.emit("upgrading",d),!d)return;o.priorWebsocketSuccess="websocket"===d.name,c('pausing current transport "%s"',f.transport.name),f.transport.pause(function(){l||"closed"!==f.readyState&&(c("changing transport and sending upgrade packet"),u(),f.setTransport(d),d.send([{type:"upgrade"}]),f.emit("upgrade",d),d=null,f.upgrading=!1,f.flush())})}else{c('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=d.name,f.emit("upgradeError",n)}}))}function n(){l||(l=!0,u(),d.close(),d=null)}function i(t){var o=new Error("probe error: "+t);o.transport=d.name,n(),c('probe transport "%s" failed because of error: %s',e,t),f.emit("upgradeError",o)}function r(){i("transport closed")}function s(){i("socket closed")}function a(e){d&&e.name!==d.name&&(c('"%s" works - aborting "%s"',e.name,d.name),n())}function u(){d.removeListener("open",t),d.removeListener("error",i),d.removeListener("close",r),f.removeListener("close",s),f.removeListener("upgrading",a)}c('probing transport "%s"',e);var d=this.createTransport(e,{probe:1}),l=!1,f=this;o.priorWebsocketSuccess=!1,d.once("open",t),d.once("error",i),d.once("close",r),this.once("close",s),this.once("upgrading",a),d.open()},o.prototype.onOpen=function(){if(c("socket open"),this.readyState="open",o.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){c("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},o.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(c('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(f(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else c('packet received with socket readyState "%s"',this.readyState)},o.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},o.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},o.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){c("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},o.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},o.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},o.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(c("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},o.prototype.write=o.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},o.prototype.sendPacket=function(e,t,n,o){if("function"==typeof t&&(o=t,t=void 0),"function"==typeof n&&(o=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),o&&this.once("flush",o),this.flush()}},o.prototype.close=function(){function e(){o.onClose("forced close"),c("socket closing - telling transport to close"),o.transport.close()}function t(){o.removeListener("upgrade",t),o.removeListener("upgradeError",t),e()}function n(){o.once("upgrade",t),o.once("upgradeError",t)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var o=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},o.prototype.onError=function(e){c("socket error %j",e),o.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},o.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){c('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},o.prototype.filterUpgrades=function(e){for(var t=[],n=0,o=e.length;n<o;n++)~u(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,n(0))},function(e,t,n){"use strict";(function(t){function o(){}function i(e){r.call(this,e),this.query=this.query||{},a||(t.___eio||(t.___eio=[]),a=t.___eio),this.index=a.length;var n=this;a.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=o)},!1)}var r=n(17),s=n(4);e.exports=i;var a;s(i,r),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function n(){o(),t()}function o(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';r=document.createElement(e)}catch(e){r=document.createElement("iframe"),r.name=i.iframeId,r.src="javascript:0"}r.id=i.iframeId,i.form.appendChild(r),i.iframe=r}var i=this;if(!this.form){var r,s=document.createElement("form"),a=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;s.className="socketio",s.style.position="absolute",s.style.top="-1000px",s.style.left="-1000px",s.target=c,s.method="POST",s.setAttribute("accept-charset","utf-8"),a.name="d",s.appendChild(a),document.body.appendChild(s),this.form=s,this.area=a}this.form.action=this.uri(),o(),e=e.replace(/\\n/g,"\\\n"),this.area.value=e.replace(/\n/g,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,n(0))},function(e,t,n){"use strict";(function(t){function o(){}function i(e){if(c.call(this,e),this.requestTimeout=e.requestTimeout,t.location){var n="https:"===location.protocol,o=location.port;o||(o=n?443:80),this.xd=e.hostname!==t.location.hostname||o!==e.port,this.xs=e.secure!==n}else this.extraHeaders=e.extraHeaders}function r(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function s(){for(var e in r.requests)r.requests.hasOwnProperty(e)&&r.requests[e].abort()}var a=n(9),c=n(17),u=n(10),d=n(4),l=n(5)("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=r,d(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new r(e)},i.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,o=this.request({method:"POST",data:e,isBinary:n}),i=this;o.on("success",t),o.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=o},i.prototype.doPoll=function(){l("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},u(r.prototype),r.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new a(e),o=this;try{l("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck(!0);for(var i in this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}}catch(e){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){o.onLoad()},n.onerror=function(){o.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?o.onLoad():setTimeout(function(){o.onError(n.status)},0))},l("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){o.onError(e)},0)}t.document&&(this.index=r.requestsCount++,r.requests[this.index]=this)},r.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},r.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},r.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},r.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=o:this.xhr.onreadystatechange=o,e)try{this.xhr.abort()}catch(e){}t.document&&delete r.requests[this.index],this.xhr=null}},r.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),o=[],i=0,r=n.length;i<r;i++)o.push(n[i]);e=String.fromCharCode.apply(null,o)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},r.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},r.prototype.abort=function(){this.cleanup()},r.requestsCount=0,r.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",s):t.addEventListener&&t.addEventListener("beforeunload",s,!1))}).call(t,n(0))},function(e,t,n){"use strict";(function(t){function o(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=l&&!e.forceNode,this.usingBrowserWebSocket||(f=i),r.call(this,e)}var i,r=n(8),s=n(3),a=n(11),c=n(4),u=n(27),d=n(5)("engine.io-client:websocket"),l=t.WebSocket||t.MozWebSocket;if("undefined"==typeof window)try{i=n(69)}catch(e){}var f=l;f||"undefined"!=typeof window||(f=i),e.exports=o,c(o,r),o.prototype.name="websocket",o.prototype.supportsBinary=!0,o.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.localAddress&&(t.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?new f(e):new f(e,void 0,t)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},o.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},o.prototype.write=function(e){function n(){o.emit("flush"),setTimeout(function(){o.writable=!0,o.emit("drain")},0)}var o=this;this.writable=!1;for(var i=e.length,r=0,a=i;r<a;r++)!function(e){s.encodePacket(e,o.supportsBinary,function(r){if(!o.usingBrowserWebSocket){var s={};if(e.options&&(s.compress=e.options.compress),o.perMessageDeflate){("string"==typeof r?t.Buffer.byteLength(r):r.length)<o.perMessageDeflate.threshold&&(s.compress=!1)}}try{o.usingBrowserWebSocket?o.ws.send(r):o.ws.send(r,s)}catch(e){d("websocket closed before onclose event")}--i||n()})}(e[r])},o.prototype.onClose=function(){r.prototype.onClose.call(this)},o.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},o.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=u()),this.supportsBinary||(e.b64=1),e=a.encode(e),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},o.prototype.check=function(){return!(!f||"__initialize"in f&&this.name===o.prototype.name)}}).call(t,n(0))},function(e,t,n){"use strict";function o(){return t.colors[d++%t.colors.length]}function i(e){function n(){}function i(){var e=i,n=+new Date,r=n-(u||n);e.diff=r,e.prev=u,e.curr=n,u=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=o());for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(n,o){if("%%"===n)return n;c++;var i=t.formatters[o];if("function"==typeof i){var r=s[c];n=i.call(e,r),s.splice(c,1),c--}return n}),s=t.formatArgs.apply(e,s),(i.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,i.enabled=!0;var r=t.enabled(e)?i:n;return r.namespace=e,r}function r(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),o=n.length,i=0;i<o;i++)n[i]&&(e=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function a(e){var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i.debug=i,t.coerce=c,t.disable=s,t.enable=r,t.enabled=a,t.humanize=n(20),t.names=[],t.skips=[],t.formatters={};var u,d=0},function(e,t,n){"use strict";e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var o in e)n.call(e,o)&&t.push(o);return t}},function(e,t,n){"use strict";function o(e){return function(){return e}}var i=function(){};i.thatReturns=o,i.thatReturnsFalse=o(!1),i.thatReturnsTrue=o(!0),i.thatReturnsNull=o(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function o(e,t,n,o,r,s,a,c){if(i(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,o,r,s,a,c],l=0;u=new Error(t.replace(/%s/g,function(){return d[l++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}}var i=function(e){};e.exports=o},function(e,t,n){"use strict";e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){"use strict";(function(e,o){var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){function s(e,t){function n(e){if(n[e]!==v)return n[e];var r;if("bug-string-char-index"==e)r="a"!="a"[0];else if("json"==e)r=n("json-stringify")&&n("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,d="function"==typeof c&&w;if(d){(s=function(){return 1}).toJSON=s;try{d="0"===c(0)&&"0"===c(new o)&&'""'==c(new i)&&c(b)===v&&c(v)===v&&c()===v&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([v])&&"null"==c(null)&&"[null,null,null]"==c([v,b,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new u(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new u(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new u(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new u(-1))}catch(e){d=!1}}r=d}if("json-parse"==e){var l=t.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){s=l(a);var f=5==s.a.length&&1===s.a[0];if(f){try{f=!l('"\t"')}catch(e){}if(f)try{f=1!==l("01")}catch(e){}if(f)try{f=1!==l("1.")}catch(e){}}}}catch(e){f=!1}r=f}}return n[e]=!!r}e||(e=d.Object()),t||(t=d.Object());var o=e.Number||d.Number,i=e.String||d.String,a=e.Object||d.Object,u=e.Date||d.Date,l=e.SyntaxError||d.SyntaxError,f=e.TypeError||d.TypeError,p=e.Math||d.Math,h=e.JSON||d.JSON;"object"==(void 0===h?"undefined":r(h))&&h&&(t.stringify=h.stringify,t.parse=h.parse);var m,g,v,y=a.prototype,b=y.toString,w=new u(-0xc782b5b800cec);try{w=-109252==w.getUTCFullYear()&&0===w.getUTCMonth()&&1===w.getUTCDate()&&10==w.getUTCHours()&&37==w.getUTCMinutes()&&6==w.getUTCSeconds()&&708==w.getUTCMilliseconds()}catch(e){}if(!n("json")){var C=n("bug-string-char-index");if(!w)var S=p.floor,k=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(e,t){return k[t]+365*(e-1970)+S((e-1969+(t=+(t>1)))/4)-S((e-1901+t)/100)+S((e-1601+t)/400)};if((m=y.hasOwnProperty)||(m=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=b?m=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,m=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,m.call(this,e)}),g=function(e,t){var n,o,i,s=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,o=new n;for(i in o)m.call(o,i)&&s++;return n=o=null,s?g=2==s?function(e,t){var n,o={},i="[object Function]"==b.call(e);for(n in e)i&&"prototype"==n||m.call(o,n)||!(o[n]=1)||!m.call(e,n)||t(n)}:function(e,t){var n,o,i="[object Function]"==b.call(e);for(n in e)i&&"prototype"==n||!m.call(e,n)||(o="constructor"===n)||t(n);(o||m.call(e,n="constructor"))&&t(n)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],g=function(e,t){var n,i,s="[object Function]"==b.call(e),a=!s&&"function"!=typeof e.constructor&&c[r(e.hasOwnProperty)]&&e.hasOwnProperty||m;for(n in e)s&&"prototype"==n||!a.call(e,n)||t(n);for(i=o.length;n=o[--i];a.call(e,n)&&t(n));}),g(e,t)},!n("json-stringify")){var E={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},R=function(e,t){return("000000"+(t||0)).slice(-e)},O=function(e){for(var t='"',n=0,o=e.length,i=!C||o>10,r=i&&(C?e.split(""):e);n<o;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=E[s];break;default:if(s<32){t+="\\u00"+R(2,s.toString(16));break}t+=i?r[n]:e.charAt(n)}}return t+'"'},T=function e(t,n,o,i,s,a,c){var u,d,l,p,h,y,w,C,k,E,T,A,P,M,N,I;try{u=n[t]}catch(e){}if("object"==(void 0===u?"undefined":r(u))&&u)if("[object Date]"!=(d=b.call(u))||m.call(u,"toJSON"))"function"==typeof u.toJSON&&("[object Number]"!=d&&"[object String]"!=d&&"[object Array]"!=d||m.call(u,"toJSON"))&&(u=u.toJSON(t));else if(u>-1/0&&u<1/0){if(x){for(h=S(u/864e5),l=S(h/365.2425)+1970-1;x(l+1,0)<=h;l++);for(p=S((h-x(l,0))/30.42);x(l,p+1)<=h;p++);h=1+h-x(l,p),y=(u%864e5+864e5)%864e5,w=S(y/36e5)%24,C=S(y/6e4)%60,k=S(y/1e3)%60,E=y%1e3}else l=u.getUTCFullYear(),p=u.getUTCMonth(),h=u.getUTCDate(),w=u.getUTCHours(),C=u.getUTCMinutes(),k=u.getUTCSeconds(),E=u.getUTCMilliseconds();u=(l<=0||l>=1e4?(l<0?"-":"+")+R(6,l<0?-l:l):R(4,l))+"-"+R(2,p+1)+"-"+R(2,h)+"T"+R(2,w)+":"+R(2,C)+":"+R(2,k)+"."+R(3,E)+"Z"}else u=null;if(o&&(u=o.call(n,t,u)),null===u)return"null";if("[object Boolean]"==(d=b.call(u)))return""+u;if("[object Number]"==d)return u>-1/0&&u<1/0?""+u:"null";if("[object String]"==d)return O(""+u);if("object"==(void 0===u?"undefined":r(u))){for(M=c.length;M--;)if(c[M]===u)throw f();if(c.push(u),T=[],N=a,a+=s,"[object Array]"==d){for(P=0,M=u.length;P<M;P++)A=e(P,u,o,i,s,a,c),T.push(A===v?"null":A);I=T.length?s?"[\n"+a+T.join(",\n"+a)+"\n"+N+"]":"["+T.join(",")+"]":"[]"}else g(i||u,function(t){var n=e(t,u,o,i,s,a,c);n!==v&&T.push(O(t)+":"+(s?" ":"")+n)}),I=T.length?s?"{\n"+a+T.join(",\n"+a)+"\n"+N+"}":"{"+T.join(",")+"}":"{}";return c.pop(),I}};t.stringify=function(e,t,n){var o,i,s,a;if(c[void 0===t?"undefined":r(t)]&&t)if("[object Function]"==(a=b.call(t)))i=t;else if("[object Array]"==a){s={};for(var u,d=0,l=t.length;d<l;u=t[d++],("[object String]"==(a=b.call(u))||"[object Number]"==a)&&(s[u]=1));}if(n)if("[object Number]"==(a=b.call(n))){if((n-=n%1)>0)for(o="",n>10&&(n=10);o.length<n;o+=" ");}else"[object String]"==a&&(o=n.length<=10?n:n.slice(0,10));return T("",(u={},u[""]=e,u),i,s,o,"",[])}}if(!n("json-parse")){var A,P,M=i.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(){throw A=P=null,l()},D=function(){for(var e,t,n,o,i,r=P,s=r.length;A<s;)switch(i=r.charCodeAt(A)){case 9:case 10:case 13:case 32:A++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=C?r.charAt(A):r[A],A++,e;case 34:for(e="@",A++;A<s;)if((i=r.charCodeAt(A))<32)I();else if(92==i)switch(i=r.charCodeAt(++A)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=N[i],A++;break;case 117:for(t=++A,n=A+4;A<n;A++)(i=r.charCodeAt(A))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||I();e+=M("0x"+r.slice(t,A));break;default:I()}else{if(34==i)break;for(i=r.charCodeAt(A),t=A;i>=32&&92!=i&&34!=i;)i=r.charCodeAt(++A);e+=r.slice(t,A)}if(34==r.charCodeAt(A))return A++,e;I();default:if(t=A,45==i&&(o=!0,i=r.charCodeAt(++A)),i>=48&&i<=57){for(48==i&&(i=r.charCodeAt(A+1))>=48&&i<=57&&I(),o=!1;A<s&&(i=r.charCodeAt(A))>=48&&i<=57;A++);if(46==r.charCodeAt(A)){for(n=++A;n<s&&(i=r.charCodeAt(n))>=48&&i<=57;n++);n==A&&I(),A=n}if(101==(i=r.charCodeAt(A))||69==i){for(i=r.charCodeAt(++A),43!=i&&45!=i||A++,n=A;n<s&&(i=r.charCodeAt(n))>=48&&i<=57;n++);n==A&&I(),A=n}return+r.slice(t,A)}if(o&&I(),"true"==r.slice(A,A+4))return A+=4,!0;if("false"==r.slice(A,A+5))return A+=5,!1;if("null"==r.slice(A,A+4))return A+=4,null;I()}return"$"},B=function e(t){var n,o;if("$"==t&&I(),"string"==typeof t){if("@"==(C?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(n=[];"]"!=(t=D());o||(o=!0))o&&(","==t?"]"==(t=D())&&I():I()),","==t&&I(),n.push(e(t));return n}if("{"==t){for(n={};"}"!=(t=D());o||(o=!0))o&&(","==t?"}"==(t=D())&&I():I()),","!=t&&"string"==typeof t&&"@"==(C?t.charAt(0):t[0])&&":"==D()||I(),n[t.slice(1)]=e(D());return n}I()}return t},U=function(e,t,n){var o=L(e,t,n);o===v?delete e[t]:e[t]=o},L=function(e,t,n){var o,i=e[t];if("object"==(void 0===i?"undefined":r(i))&&i)if("[object Array]"==b.call(i))for(o=i.length;o--;)U(i,o,n);else g(i,function(e){U(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,o;return A=0,P=""+e,n=B(D()),"$"!=D()&&I(),A=P=null,t&&"[object Function]"==b.call(t)?L((o={},o[""]=n,o),"",t):n}}}return t.runInContext=s,t}var a=n(7),c={function:!0,object:!0},u=c[r(t)]&&t&&!t.nodeType&&t,d=c["undefined"==typeof window?"undefined":r(window)]&&window||this,l=u&&c[r(e)]&&e&&!e.nodeType&&"object"==(void 0===o?"undefined":r(o))&&o;if(!l||l.global!==l&&l.window!==l&&l.self!==l||(d=l),u&&!a)s(d,u);else{var f=d.JSON,p=d.JSON3,h=!1,m=s(d,d.JSON3={noConflict:function(){return h||(h=!0,d.JSON=f,d.JSON3=p,f=p=null),m}});d.JSON={parse:m.parse,stringify:m.stringify}}a&&void 0!==(i=function(){return m}.call(t,n,t,e))&&(e.exports=i)}).call(void 0)}).call(t,n(14)(e),n(0))},function(e,t,n){"use strict";(function(t){var n=/^[\],:{}\s]*$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(/^\s+/,"").replace(/\s+$/,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?new Function("return "+e)():void 0):null}}).call(t,n(0))},function(e,t,n){"use strict";var o=n(45),i=n(46);e.exports=function(){function e(){i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";(function(n,o){var i,r,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};window.RTCMultiConnection=function(a,c){function u(e,t){var n="";n+="?userid="+e.userid,n+="&sessionid="+e.sessionid,n+="&msgEvent="+e.socketMessageEvent,n+="&socketCustomEvent="+e.socketCustomEvent,n+="&autoCloseEntireSession="+!!e.autoCloseEntireSession,n+="&maxParticipantsAllowed="+e.maxParticipantsAllowed,e.enableScalableBroadcast&&(n+="&enableScalableBroadcast=true",n+="&maxRelayLimitPerUser="+(e.maxRelayLimitPerUser||2)),e.socketCustomParameters&&(n+=e.socketCustomParameters);try{io.sockets={}}catch(e){}if(e.socketURL||(e.socketURL="/"),"/"!=e.socketURL.substr(e.socketURL.length-1,1))throw'"socketURL" MUST end with a slash.';e.enableLogs&&("/"==e.socketURL?console.info("socket.io is connected at: ",location.origin+"/"):console.info("socket.io is connected at: ",e.socketURL));try{e.socket=io(e.socketURL+n)}catch(t){e.socket=io.connect(e.socketURL+n,e.socketOptions)}e.socket.isIO=!0;var o=e.multiPeersHandler;e.socket.on("extra-data-updated",function(t,n){e.peers[t]&&(e.peers[t].extra=n,e.onExtraDataUpdated({userid:t,extra:n}),e.peersBackup[t]||(e.peersBackup[t]={userid:t,extra:{}}),e.peersBackup[t].extra=n)}),e.socket.on(e.socketMessageEvent,function(t){if(t.remoteUserId==e.userid){if(e.peers[t.sender]&&e.peers[t.sender].extra!=t.message.extra&&(e.peers[t.sender].extra=t.extra,e.onExtraDataUpdated({userid:t.sender,extra:t.extra})),t.message.streamSyncNeeded&&e.peers[t.sender]){var n=e.streamEvents[t.message.streamid];if(!n||!n.stream)return;var i=t.message.action;if("ended"===i||"inactive"===i||"stream-removed"===i)return e.peersBackup[n.userid]&&(n.extra=e.peersBackup[n.userid].extra),void e.onstreamended(n);var r="both"!=t.message.type?t.message.type:null;return void("function"==typeof n.stream[i]&&n.stream[i](r))}if("connectWithAllParticipants"===t.message)return-1===e.broadcasters.indexOf(t.sender)&&e.broadcasters.push(t.sender),void o.onNegotiationNeeded({allParticipants:e.getAllParticipants(t.sender)},t.sender);if("removeFromBroadcastersList"===t.message)return void(-1!==e.broadcasters.indexOf(t.sender)&&(delete e.broadcasters[e.broadcasters.indexOf(t.sender)],e.broadcasters=v(e.broadcasters)));if("dropPeerConnection"===t.message)return void e.deletePeer(t.sender);if(t.message.allParticipants)return-1===t.message.allParticipants.indexOf(t.sender)&&t.message.allParticipants.push(t.sender),void t.message.allParticipants.forEach(function(t){o[e.peers[t]?"renegotiatePeer":"createNewPeer"](t,{localPeerSdpConstraints:{OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},remotePeerSdpConstraints:{OfferToReceiveAudio:e.session.oneway?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.session.oneway?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo},isOneWay:!!e.session.oneway||"one-way"===e.direction,isDataOnly:y(e.session)})});if(t.message.newParticipant){if(t.message.newParticipant==e.userid)return;if(e.peers[t.message.newParticipant])return;return void o.createNewPeer(t.message.newParticipant,t.message.userPreferences||{localPeerSdpConstraints:{OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},remotePeerSdpConstraints:{OfferToReceiveAudio:e.session.oneway?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.session.oneway?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo},isOneWay:!!e.session.oneway||"one-way"===e.direction,isDataOnly:y(e.session)})}if((t.message.readyForOffer||t.message.addMeAsBroadcaster)&&e.addNewBroadcaster(t.sender),t.message.newParticipationRequest&&t.sender!==e.userid){e.peers[t.sender]&&e.deletePeer(t.sender);var s={extra:t.extra||{},localPeerSdpConstraints:t.message.remotePeerSdpConstraints||{OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},remotePeerSdpConstraints:t.message.localPeerSdpConstraints||{OfferToReceiveAudio:e.session.oneway?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.session.oneway?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo},isOneWay:void 0!==t.message.isOneWay?t.message.isOneWay:!!e.session.oneway||"one-way"===e.direction,isDataOnly:void 0!==t.message.isDataOnly?t.message.isDataOnly:y(e.session),dontGetRemoteStream:void 0!==t.message.isOneWay?t.message.isOneWay:!!e.session.oneway||"one-way"===e.direction,dontAttachLocalStream:!!t.message.dontGetRemoteStream,connectionDescription:t,successCallback:function(){(void 0!==t.message.isOneWay?t.message.isOneWay:!!e.session.oneway||"one-way"===e.direction)&&e.addNewBroadcaster(t.sender,s),(e.session.oneway||"one-way"===e.direction||y(e.session))&&e.addNewBroadcaster(t.sender,s)}};return void e.onNewParticipant(t.sender,s)}if(t.message.shiftedModerationControl)return void e.onShiftedModerationControl(t.sender,t.message.broadcasters);if(t.message.changedUUID&&e.peers[t.message.oldUUID]&&(e.peers[t.message.newUUID]=e.peers[t.message.oldUUID],delete e.peers[t.message.oldUUID]),t.message.userLeft)return o.onUserLeft(t.sender),void(t.message.autoCloseEntireSession&&e.leave());o.addNegotiatedMessage(t.message,t.sender)}}),e.socket.on("user-left",function(t){onUserLeft(t),e.onUserStatusChanged({userid:t,status:"offline",extra:e.peers[t]?e.peers[t].extra||{}:{}});var n={userid:t,extra:{}};e.peersBackup[n.userid]&&(n.extra=e.peersBackup[n.userid].extra),e.onleave(n)});var i=!1;e.socket.resetProps=function(){i=!1},e.socket.on("connect",function(){i||(i=!0,e.enableLogs&&console.info("socket.io connection is opened."),setTimeout(function(){e.socket.emit("extra-data-updated",e.extra),t&&t(e.socket)},1e3))}),e.socket.on("disconnect",function(){e.enableLogs&&console.warn("socket.io connection is closed")}),e.socket.on("join-with-password",function(t){e.onJoinWithPassword(t)}),e.socket.on("invalid-password",function(t,n){e.onInvalidPassword(t,n)}),e.socket.on("password-max-tries-over",function(t){e.onPasswordMaxTriesOver(t)}),e.socket.on("user-disconnected",function(t){t!==e.userid&&(e.onUserStatusChanged({userid:t,status:"offline",extra:e.peers[t]?e.peers[t].extra||{}:{}}),e.deletePeer(t))}),e.socket.on("user-connected",function(t){t!==e.userid&&e.onUserStatusChanged({userid:t,status:"online",extra:e.peers[t]?e.peers[t].extra||{}:{}})}),e.socket.on("closed-entire-session",function(t,n){e.leave(),e.onEntireSessionClosed({sessionid:t,userid:t,extra:n})}),e.socket.on("userid-already-taken",function(t,n){e.isInitiator=!1,e.userid=n,e.onUserIdAlreadyTaken(t,n)}),e.socket.on("logs",function(t){e.enableLogs&&console.debug("server-logs",t)}),e.socket.on("number-of-broadcast-viewers-updated",function(t){e.onNumberOfBroadcastViewersUpdated(t)}),e.socket.on("room-full",function(t){e.onRoomFull(t)}),e.socket.on("become-next-modrator",function(t){t==e.sessionid&&setTimeout(function(){e.open(t),e.socket.emit("shift-moderator-control-on-disconnect")},1e3)})}function d(e){function t(){e.fbr=new FileBufferReader,e.fbr.onProgress=function(t){e.onFileProgress(t)},e.fbr.onBegin=function(t){e.onFileStart(t)},e.fbr.onEnd=function(t){e.onFileEnd(t)}}var n=this,o=["getAllParticipants","getLength","selectFirst","streams","send","forEach"];e.peersBackup={},e.peers={getLength:function(){var e=0;for(var t in this)-1==o.indexOf(t)&&e++;return e},selectFirst:function(){var e;for(var t in this)-1==o.indexOf(t)&&(e=this[t]);return e},getAllParticipants:function(e){var t=[];for(var n in this)-1==o.indexOf(n)&&n!=e&&t.push(n);return t},forEach:function(t){this.getAllParticipants().forEach(function(n){t(e.peers[n])})},send:function(t,o){var i=this;if(!b(t.size)&&!b(t.type))return void n.shareFile(t,o);if(!("text"===t.type||t instanceof ArrayBuffer||t instanceof DataView))return void ie.send({text:t,channel:this,connection:e,remoteUserId:o});if("text"===t.type&&(t=JSON.stringify(t)),o){var r=e.peers[o];if(r)return r.channels.length?void r.channels.forEach(function(e){e.send(t)}):(e.peers[o].createDataChannel(),e.renegotiate(o),void setTimeout(function(){i.send(t,o)},3e3))}this.getAllParticipants().forEach(function(n){if(!i[n].channels.length)return e.peers[n].createDataChannel(),e.renegotiate(n),void setTimeout(function(){i[n].channels.forEach(function(e){e.send(t)})},3e3);i[n].channels.forEach(function(e){e.send(t)})})}},this.uuid=e.userid,this.getLocalConfig=function(o,i,r){return r||(r={}),{streamsToShare:r.streamsToShare||{},rtcMultiConnection:e,connectionDescription:r.connectionDescription,userid:i,localPeerSdpConstraints:r.localPeerSdpConstraints,remotePeerSdpConstraints:r.remotePeerSdpConstraints,dontGetRemoteStream:!!r.dontGetRemoteStream,dontAttachLocalStream:!!r.dontAttachLocalStream,renegotiatingPeer:!!r.renegotiatingPeer,peerRef:r.peerRef,channels:r.channels||[],onLocalSdp:function(e){n.onNegotiationNeeded(e,i)},onLocalCandidate:function(t){(t=Z.processCandidates(e,t))&&n.onNegotiationNeeded(t,i)},remoteSdp:o,onDataChannelMessage:function(o){if(!e.fbr&&e.enableFileSharing&&t(),"string"==typeof o||!e.enableFileSharing)return void n.onDataChannelMessage(o,i);var r=this;return o instanceof ArrayBuffer||o instanceof DataView?void e.fbr.convertToObject(o,function(e){r.onDataChannelMessage(e)}):o.readyForNextChunk?void e.fbr.getNextChunk(o,function(t,n){e.peers[i].channels.forEach(function(e){e.send(t)})},i):o.chunkMissing?void e.fbr.chunkMissing(o):void e.fbr.addChunk(o,function(t){e.peers[i].peer.channel.send(t)})},onDataChannelError:function(e){n.onDataChannelError(e,i)},onDataChannelOpened:function(e){n.onDataChannelOpened(e,i)},onDataChannelClosed:function(e){n.onDataChannelClosed(e,i)},onRemoteStream:function(t){if(e.peers[i]&&e.peers[i].streams.push(t),q&&window.PluginRTC){var o=document.createElement("video"),r=e.videosContainer;return r.insertBefore(o,r.firstChild),void setTimeout(function(){window.PluginRTC.attachMediaStream(o,t)},3e3)}n.onGettingRemoteMedia(t,i)},onRemoteStreamRemoved:function(e){n.onRemovingRemoteMedia(e,i)},onPeerStateChanged:function(e){n.onPeerStateChanged(e),"new"===e.iceConnectionState&&n.onNegotiationStarted(i,e),"connected"===e.iceConnectionState&&n.onNegotiationCompleted(i,e),-1!==e.iceConnectionState.search(/closed|failed/gi)&&(n.onUserLeft(i),n.disconnectWith(i))}}},this.createNewPeer=function(t,n){if(!(e.maxParticipantsAllowed<=e.getAllParticipants().length)){if(n=n||{},e.isInitiator&&e.session.audio&&"two-way"===e.session.audio&&!n.streamsToShare&&(n.isOneWay=!1,n.isDataOnly=!1,n.session=e.session),!n.isOneWay&&!n.isDataOnly)return n.isOneWay=!0,void this.onNegotiationNeeded({enableMedia:!0,userPreferences:n},t);n=e.setUserPreferences(n,t);var o=this.getLocalConfig(null,t,n);e.peers[t]=new E(o)}},this.createAnsweringPeer=function(t,n,o){o=e.setUserPreferences(o||{},n);var i=this.getLocalConfig(t,n,o);e.peers[n]=new E(i)},this.renegotiatePeer=function(t,n,o){if(!e.peers[t])return void(e.enableLogs&&console.error("This peer ("+t+") does not exist. Renegotiation skipped."));n||(n={}),n.renegotiatingPeer=!0,n.peerRef=e.peers[t].peer,n.channels=e.peers[t].channels;var i=this.getLocalConfig(o,t,n);e.peers[t]=new E(i)},this.replaceTrack=function(t,n,o){if(!e.peers[n])throw"This peer ("+n+") does not exist.";var i=e.peers[n].peer;if(i.getSenders&&"function"==typeof i.getSenders&&i.getSenders().length)return void i.getSenders().forEach(function(i){o&&i.track instanceof VideoStreamTrack&&(e.peers[n].peer.lastVideoTrack=i.track,i.replaceTrack(t)),!o&&i.track instanceof AudioStreamTrack&&(e.peers[n].peer.lastAudioTrack=i.track,i.replaceTrack(t))});console.warn("RTPSender.replaceTrack is NOT supported."),this.renegotiatePeer(n)},this.onNegotiationNeeded=function(e,t){},this.addNegotiatedMessage=function(t,o){if(t.type&&t.sdp)return"answer"==t.type&&e.peers[o]&&e.peers[o].addRemoteSdp(t),"offer"==t.type&&(t.renegotiatingPeer?this.renegotiatePeer(o,null,t):this.createAnsweringPeer(t,o)),void(e.enableLogs&&console.log("Remote peer's sdp:",t.sdp));if(t.candidate)return e.peers[o]&&e.peers[o].addRemoteCandidate(t),void(e.enableLogs&&console.log("Remote peer's candidate pairs:",t.candidate));if(t.enableMedia){e.session=t.userPreferences.session||e.session,e.session.oneway&&e.attachStreams.length&&(e.attachStreams=[]),t.userPreferences.isDataOnly&&e.attachStreams.length&&(e.attachStreams.length=[]);var i={};e.attachStreams.forEach(function(e){i[e.streamid]={isAudio:!!e.isAudio,isVideo:!!e.isVideo,isScreen:!!e.isScreen}}),t.userPreferences.streamsToShare=i,n.onNegotiationNeeded({readyForOffer:!0,userPreferences:t.userPreferences},o)}t.readyForOffer&&e.onReadyForOffer(o,t.userPreferences)},this.connectNewParticipantWithAllBroadcasters=function(t,o,i){if(!e.socket.isIO&&(i=(i||"").split("|-,-|"),i.length)){var r,s=[];i.forEach(function(e){e=(e||"").replace(/ /g,""),e.length&&(r?s.push(e):r=e)}),r&&(n.onNegotiationNeeded({newParticipant:t,userPreferences:o||!1},r),s.length&&setTimeout(function(){n.connectNewParticipantWithAllBroadcasters(t,o,s.join("|-,-|"))},3e3))}},this.onGettingRemoteMedia=function(e,t){},this.onRemovingRemoteMedia=function(e,t){},this.onGettingLocalMedia=function(e){},this.onLocalMediaError=function(t,n){e.onMediaError(t,n)},this.shareFile=function(n,o){if(!e.enableFileSharing)throw'"connection.enableFileSharing" is false.';t(),e.fbr.readAsArrayBuffer(n,function(t){var n=e.getAllParticipants();o&&(n=[o]),n.forEach(function(n){e.fbr.getNextChunk(t,function(t){e.peers[n].channels.forEach(function(e){e.send(t)})},n)})},{userid:e.userid,chunkSize:U?15e3:e.chunkSize||0})};var i=new D(e);this.onDataChannelMessage=function(t,n){i.receive(JSON.parse(t),n,e.peers[n]?e.peers[n].extra:{})},this.onDataChannelClosed=function(t,n){t.userid=n,t.extra=e.peers[n]?e.peers[n].extra:{},e.onclose(t)},this.onDataChannelError=function(t,n){t.userid=n,event.extra=e.peers[n]?e.peers[n].extra:{},e.onerror(t)},this.onDataChannelOpened=function(t,n){if(e.peers[n].channels.length)return void(e.peers[n].channels=[t]);e.peers[n].channels.push(t),e.onopen({userid:n,extra:e.peers[n]?e.peers[n].extra:{},channel:t})},this.onPeerStateChanged=function(t){e.onPeerStateChanged(t)},this.onNegotiationStarted=function(e,t){},this.onNegotiationCompleted=function(e,t){},this.getRemoteStreams=function(t){return t=t||e.peers.getAllParticipants()[0],e.peers[t]?e.peers[t].streams:[]},this.isPluginRTC=e.isPluginRTC=q}function l(e,t,n){if("undefined"!=typeof CustomEvent){var o={arguments:n,__exposedProps__:n},i=new CustomEvent(t,o);e.dispatchEvent(i)}}function f(e,t){if(!e||!t)throw"Both arguments are required.";if(e.onspeaking&&e.onsilence){if("undefined"==typeof hark)throw"hark.js not found.";hark(t.stream,{onspeaking:function(){e.onspeaking(t)},onsilence:function(){e.onsilence(t)},onvolumechange:function(n,o){e.onvolumechange&&e.onvolumechange(merge({volume:n,threshold:o},t))}})}}function p(e,t){t.stream&&t.stream&&t.stream.addEventListener&&(t.stream.addEventListener("mute",function(n){n=e.streamEvents[t.streamid],n.session={audio:"audio"===n.muteType,video:"video"===n.muteType},e.onmute(n)},!1),t.stream.addEventListener("unmute",function(n){n=e.streamEvents[t.streamid],n.session={audio:"audio"===n.unmuteType,video:"video"===n.unmuteType},e.onunmute(n)},!1))}function h(){if(window.crypto&&window.crypto.getRandomValues&&-1===navigator.userAgent.indexOf("Safari")){for(var e=window.crypto.getRandomValues(new Uint32Array(3)),t="",n=0,o=e.length;n<o;n++)t+=e[n].toString(36);return t}return(Math.random()*(new Date).getTime()).toString(36).replace(/\./g,"")}function m(e,t,n){var o=!1;e.getVideoTracks&&!e.getVideoTracks().length&&(o=!0);var i=document.createElement(o?"audio":"video");if(q&&window.PluginRTC)return n.videosContainer.insertBefore(i,n.videosContainer.firstChild),void setTimeout(function(){window.PluginRTC.attachMediaStream(i,e),t(i)},1e3);if(i[U?"mozSrcObject":"src"]=U?e:window.URL.createObjectURL(e),i.controls=!0,U){var r="ended";"oninactive"in i&&(r="inactive"),i.addEventListener(r,function(){if(currentUserMediaRequest.remove(e.idInstance),"local"===e.type){r="ended","oninactive"in e&&(r="inactive"),ee.onSyncNeeded(e.streamid,r),n.attachStreams.forEach(function(t,o){e.streamid===t.streamid&&delete n.attachStreams[o]});var t=[];n.attachStreams.forEach(function(e){e&&t.push(e)}),n.attachStreams=t;var o=n.streamEvents[e.streamid];if(o)return void n.onstreamended(o);this.parentNode&&this.parentNode.removeChild(this)}},!1)}i.play(),t(i)}function g(e,t){window.removeEventListener(e,t),window.addEventListener(e,t,!1)}function v(e){var t=[];return e.forEach(function(e){e&&t.push(e)}),t}function y(e){return!e.audio&&!e.video&&!e.screen&&e.data}function b(e){return void 0===e}function w(e){return"string"==typeof e}function C(e,t){return(!e.session.audio||"two-way"!==e.session.audio)&&(!(!U||!1===t)||!(!_||W<50)&&(!0===typeof t||!(void 0!==t||!e.session.audio||!e.session.screen||e.session.video)&&(t=!0,!0)))}function S(e){return!!U||!!_&&{mandatory:{chromeMediaSource:e.mandatory.chromeMediaSource,chromeMediaSourceId:e.mandatory.chromeMediaSourceId}}}function k(){if("iOS"===DetectRTC.osName&&"undefined"!=typeof cordova&&void 0!==cordova.plugins&&void 0!==cordova.plugins.iosrtc){var e=cordova.plugins.iosrtc;window.webkitRTCPeerConnection=e.RTCPeerConnection,window.RTCSessionDescription=e.RTCSessionDescription,window.RTCIceCandidate=e.RTCIceCandidate,window.MediaStream=e.MediaStream,window.MediaStreamTrack=e.MediaStreamTrack,navigator.getUserMedia=navigator.webkitGetUserMedia=e.getUserMedia,e.debug.enable("iosrtc*"),"function"==typeof e.selectAudioOutput&&e.selectAudioOutput(window.iOSDefaultAudioOutputDevice||"speaker"),e.registerGlobals()}}function x(e){var t;return t={mandatory:{OfferToReceiveAudio:!!e.OfferToReceiveAudio,OfferToReceiveVideo:!!e.OfferToReceiveVideo},optional:[{VoiceActivityDetection:!1}]},navigator.mozGetUserMedia&&z>34&&(t={OfferToReceiveAudio:!!e.OfferToReceiveAudio,OfferToReceiveVideo:!!e.OfferToReceiveVideo}),t}function E(e){function t(){return a.getLocalStreams()}function n(t){t.binaryType="arraybuffer",t.onmessage=function(t){e.onDataChannelMessage(t.data)},t.onopen=function(){e.onDataChannelOpened(t)},t.onerror=function(t){e.onDataChannelError(t)},t.onclose=function(t){e.onDataChannelClosed(t)},t.internalSend=t.send,t.send=function(e){"open"===t.readyState&&t.internalSend(e)},a.channel=t}function o(t){a[t](function(t){t.sdp=i.processSdp(t.sdp),a.setLocalDescription(t,function(){i.trickleIce&&(e.onLocalSdp({type:t.type,sdp:t.sdp,remotePeerSdpConstraints:e.remotePeerSdpConstraints||!1,renegotiatingPeer:!!e.renegotiatingPeer||!1,connectionDescription:r.connectionDescription,dontGetRemoteStream:!!e.dontGetRemoteStream,extra:i?i.extra:{},streamsToShare:m,isFirefoxOffered:U}),i.onSettingLocalDescription(r))},function(e){i.enableLogs&&console.error("setLocalDescription error",e)})},function(e){i.enableLogs&&console.error("sdp-error",e)},G.sdpConstraints)}if(!H)throw"WebRTC 1.0 (RTCPeerConnection) API are NOT available in this browser.";var i=e.rtcMultiConnection;this.extra=e.remoteSdp?e.remoteSdp.extra:i.extra,this.userid=e.userid,this.streams=[],this.channels=e.channels||[],this.connectionDescription=e.connectionDescription,this.addStream=function(e){i.addStream(e,this.userid)},this.removeStream=function(e){i.removeStream(e,this.userid)};var r=this;e.remoteSdp&&(this.connectionDescription=e.remoteSdp.connectionDescription);var s={};G.sdpConstraints=x({OfferToReceiveAudio:!0,OfferToReceiveVideo:!0});var a,c=!!e.renegotiatingPeer;e.remoteSdp&&(c=!!e.remoteSdp.renegotiatingPeer);var u=[];if(i.attachStreams.forEach(function(e){e&&u.push(e)}),c)a=e.peerRef;else{var d="all";(i.candidates.turn||i.candidates.relay)&&(i.candidates.stun||i.candidates.reflexive||i.candidates.host||(d="relay")),a=new H(navigator.onLine?{iceServers:i.iceServers,iceTransportPolicy:i.iceTransportPolicy||d,rtcpMuxPolicy:i.rtcpMuxPolicy||"negotiate"}:null,window.PluginRTC?null:i.optionalArgument),i.iceServers.length||(a=new H(null,null))}a.onicecandidate=function(t){if(t.candidate)i.trickleIce&&e.onLocalCandidate({candidate:t.candidate.candidate,sdpMid:t.candidate.sdpMid,sdpMLineIndex:t.candidate.sdpMLineIndex});else if(!i.trickleIce){var n=a.localDescription;e.onLocalSdp({type:n.type,sdp:n.sdp,remotePeerSdpConstraints:e.remotePeerSdpConstraints||!1,renegotiatingPeer:!!e.renegotiatingPeer||!1,connectionDescription:r.connectionDescription,dontGetRemoteStream:!!e.dontGetRemoteStream,extra:i?i.extra:{},streamsToShare:m,isFirefoxOffered:U})}};e.remoteSdp&&e.remoteSdp.remotePeerSdpConstraints&&e.remoteSdp.remotePeerSdpConstraints.isFirefoxOffered,u.forEach(function(n){e.remoteSdp&&e.remoteSdp.remotePeerSdpConstraints&&e.remoteSdp.remotePeerSdpConstraints.dontGetRemoteStream||e.dontAttachLocalStream||(n=i.beforeAddingStream(n,r))&&(t().forEach&&t().forEach(function(e){n&&e.id==n.id&&(n=null)}),n&&a.addStream(n))}),a.oniceconnectionstatechange=a.onsignalingstatechange=function(){var t=r.extra;i.peers[r.userid]&&(t=i.peers[r.userid].extra||t),a&&(e.onPeerStateChanged({iceConnectionState:a.iceConnectionState,iceGatheringState:a.iceGatheringState,signalingState:a.signalingState,extra:t,userid:r.userid}),U&&-1!==a.iceConnectionState.search(/closed|failed/gi)&&r.streams.forEach(function(e){var t=i.streamEvents[e.id]||{streamid:e.id,stream:e,type:"remote"};i.onstreamended(t)}))};var f={OfferToReceiveAudio:!!u.length,OfferToReceiveVideo:!!u.length};e.localPeerSdpConstraints&&(f=e.localPeerSdpConstraints),G.sdpConstraints=x(f);var p;a.addEventListener("addstream",function(t){if(t){if(t.streams&&t.streams.length&&!t.stream){if(!p)return void(p=new J);if(t.streams.forEach(function(e){e.getVideoTracks().length&&p.addTrack(e.getVideoTracks()[0]),e.getAudioTracks().length&&p.addTrack(e.getAudioTracks()[0])}),t.stream=p,i.session.audio&&i.session.video&&(!p.getVideoTracks().length||!p.getAudioTracks().length))return;p=null}var n={};e.remoteSdp&&e.remoteSdp.streamsToShare?n=e.remoteSdp.streamsToShare:e.streamsToShare&&(n=e.streamsToShare);var o=n[t.stream.id];o&&(t.stream.isAudio=o.isAudio,t.stream.isVideo=o.isVideo,t.stream.isScreen=o.isScreen),t.stream.streamid=t.stream.id,!U&&t.stream.stop||(t.stream.stop=function(){var e="ended";"oninactive"in t.stream&&(e="inactive"),l(t.stream,e)}),s[t.stream.id]=t.stream,e.onRemoteStream(t.stream)}},!1),a.onremovestream=function(t){t.stream.streamid=t.stream.id,s[t.stream.id]&&delete s[t.stream.id],e.onRemoteStreamRemoved(t.stream)},this.addRemoteCandidate=function(e){a.addIceCandidate(new X(e))},this.addRemoteSdp=function(e,t){e.sdp=i.processSdp(e.sdp),a.setRemoteDescription(new $(e),t||function(){},function(t){i.enableLogs&&console.error(JSON.stringify(t,null,"\t"),"\n",e.type,e.sdp)})};var h=!0;e.remoteSdp&&(h=!1),this.createDataChannel=function(){n(a.createDataChannel("sctp",{}))},!0!==i.session.data||c||(h?this.createDataChannel():a.ondatachannel=function(e){n(e.channel)}),e.remoteSdp&&(e.remoteSdp.remotePeerSdpConstraints&&(f=e.remoteSdp.remotePeerSdpConstraints),G.sdpConstraints=x(f),this.addRemoteSdp(e.remoteSdp,function(){o("createAnswer")})),"two-way"!=i.session.audio&&"two-way"!=i.session.video&&"two-way"!=i.session.screen||(G.sdpConstraints=x({OfferToReceiveAudio:"two-way"==i.session.audio||e.remoteSdp&&e.remoteSdp.remotePeerSdpConstraints&&e.remoteSdp.remotePeerSdpConstraints.OfferToReceiveAudio,OfferToReceiveVideo:"two-way"==i.session.video||"two-way"==i.session.screen||e.remoteSdp&&e.remoteSdp.remotePeerSdpConstraints&&e.remoteSdp.remotePeerSdpConstraints.OfferToReceiveAudio}));var m={};t().forEach&&t().forEach(function(e){m[e.streamid]={isAudio:!!e.isAudio,isVideo:!!e.isVideo,isScreen:!!e.isScreen}}),h&&o("createOffer"),a.nativeClose=a.close,a.close=function(){if(a){try{-1===a.iceConnectionState.search(/closed|failed/gi)&&a.getRemoteStreams().forEach(function(e){e.stop()}),a.nativeClose()}catch(e){}a=null,r.peer=null}},this.peer=a}function R(e,t){e.mandatory&&e.mandatory.chromeMediaSource?t.isScreen=!0:e.mozMediaSource||e.mediaSource?t.isScreen=!0:e.video?t.isVideo=!0:e.audio&&(t.isAudio=!0)}function O(e){function t(t,o){R(e.localMediaConstraints,t),e.onGettingLocalMedia(t,o);var i="ended";"oninactive"in t&&(i="inactive"),t.addEventListener(i,function(){delete currentUserMediaRequest.streams[n],currentUserMediaRequest.mutex=!1,currentUserMediaRequest.queueRequests.indexOf(e)&&(delete currentUserMediaRequest.queueRequests[currentUserMediaRequest.queueRequests.indexOf(e)],currentUserMediaRequest.queueRequests=v(currentUserMediaRequest.queueRequests))},!1),currentUserMediaRequest.streams[n]={stream:t},currentUserMediaRequest.mutex=!1,currentUserMediaRequest.queueRequests.length&&O(currentUserMediaRequest.queueRequests.shift())}if(!0===currentUserMediaRequest.mutex)return void currentUserMediaRequest.queueRequests.push(e);currentUserMediaRequest.mutex=!0;var n=JSON.stringify(e.localMediaConstraints);if(currentUserMediaRequest.streams[n])t(currentUserMediaRequest.streams[n].stream,!0);else{if(q&&window.PluginRTC){document.createElement("video");return void window.PluginRTC.getUserMedia({audio:!0,video:!0},function(e){e.streamid=e.id||h(),t(e)},function(e){})}if(!!/BB10|BlackBerry/i.test(navigator.userAgent||"")||void 0===navigator.mediaDevices||"function"!=typeof navigator.mediaDevices.getUserMedia)return navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,void navigator.getUserMedia(e.localMediaConstraints,function(e){e.streamid=e.streamid||e.id||h(),e.idInstance=n,t(e)},function(t){e.onLocalMediaError(t,e.localMediaConstraints)});navigator.mediaDevices.getUserMedia(e.localMediaConstraints).then(function(e){e.streamid=e.streamid||e.id||h(),e.idInstance=n,t(e)}).catch(function(t){e.onLocalMediaError(t,e.localMediaConstraints)})}}function T(e){if("PermissionDeniedError"==e){if(oe="PermissionDeniedError",ne)return ne("PermissionDeniedError");throw new Error("PermissionDeniedError: User rejected to share his screen.")}"rtcmulticonnection-extension-loaded"==e&&(oe="desktop"),e.sourceId&&ne&&(te=e.sourceId,ne(te))}function A(e){if(e){if(U)return P(e);if(window.IsAndroidChrome)return oe="screen",void e(!0);if("desktop"==oe)return void e(!0);window.postMessage("are-you-there","*"),setTimeout(function(){e("screen"==oe?!1:!0)},2e3)}}function P(e){function t(o){var i=o.data;i&&void 0!==i.isScreenCapturingEnabled&&(n=!0,e(!0===i.isScreenCapturingEnabled?!0:!1),window.removeEventListener("message",t,!1))}if(e){if(!U)return A(e);var n=!1;window.addEventListener("message",t,!1),window.postMessage({checkIfScreenCapturingEnabled:!0,domains:[document.domain]},"*"),setTimeout(function(){n||e(!0)},2e3)}}function M(e,t){if(!e)throw'"callback" parameter is mandatory.';return te?(e(te),void(te=null)):(ne=e,t?void window.postMessage("audio-plus-tab","*"):void window.postMessage("get-sourceId","*"))}function N(e,t){if(window.IsAndroidChrome)return oe="screen",void t("installed-enabled");if(2!=arguments.length&&(t=e,e=window.RMCExtensionID||"ajhifddimkapgcifgcodmmfdlknahffk"),U)return t("not-chrome");var n=document.createElement("img");n.src="chrome-extension://"+e+"/icon.png",n.onload=function(){te=null,oe="screen",window.postMessage("are-you-there","*"),setTimeout(function(){t("screen"==oe?e==e?"installed-enabled":"installed-disabled":"installed-enabled")},2e3)},n.onerror=function(){t("not-installed")}}function I(e,t){var n={mozMediaSource:"window",mediaSource:"window",width:29999,height:8640};if(U)return e(null,n);te=null,A(function(n){var o={mandatory:{chromeMediaSource:oe,maxWidth:29999,maxHeight:8640,minFrameRate:30,maxFrameRate:128,minAspectRatio:1.77},optional:[]};return window.IsAndroidChrome?void e(null,o):"desktop"!=oe||te?("desktop"==oe&&(o.mandatory.chromeMediaSourceId=te),te=null,oe="screen",ne=null,void e(null,o)):void M(function(){o.mandatory.chromeMediaSourceId=te,e("PermissionDeniedError"==te?te:null,o),te=null},t)})}function D(e){function t(t,o,i){var r=t.uuid;if(n[r]||(n[r]=[]),n[r].push(t.message),t.last){var s=n[r].join("");t.isobject&&(s=JSON.parse(s));var a=(new Date).getTime(),c=a-t.sendingTime,u={data:s,userid:o,extra:i,latency:c};e.autoTranslateText?(u.original=u.data,e.Translator.TranslateText(u.data,function(t){u.data=t,e.onmessage(u)})):e.onmessage(u),delete n[r]}}var n={};return{receive:t}}var B=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,U=void 0!==window.InstallTrigger,L=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,_=!!window.chrome&&!B,j=!!document.documentMode,V=!!navigator.userAgent.match(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i);"undefined"!=typeof cordova&&(V=!0,_=!0),navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Crosswalk")&&(V=!0,_=!0);var q=!V&&(L||j);q&&"undefined"!=typeof URL&&(URL.createObjectURL=function(){});var W=(window.process&&"object"===s(window.process)&&window.process.versions&&window.process.versions["node-webkit"],50),F=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);_&&F&&F[2]&&(W=parseInt(F[2],10));var z=50;F=navigator.userAgent.match(/Firefox\/(.*)/),U&&F&&F[1]&&(z=parseInt(F[1],10)),window.addEventListener||(window.addEventListener=function(e,t,n){e.attachEvent&&e.attachEvent("on"+t,n)}),window.attachEventListener=function(e,t,n,o){e.addEventListener(t,n,o)};var J=window.MediaStream;void 0===J&&"undefined"!=typeof webkitMediaStream&&(J=webkitMediaStream),void 0!==J&&("getVideoTracks"in J.prototype||(J.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("video")&&e.push(t)}),e},J.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var e=[];return this.getTracks.forEach(function(t){-1!==t.kind.toString().indexOf("audio")&&e.push(t)}),e}),"stop"in J.prototype||(J.prototype.stop=function(){this.getAudioTracks().forEach(function(e){e.stop&&e.stop()}),this.getVideoTracks().forEach(function(e){e.stop&&e.stop()})})),window.iOSDefaultAudioOutputDevice=window.iOSDefaultAudioOutputDevice||"speaker",function(){function a(e,t){var n=0,o=!1,i=window.setInterval(function(){e()&&(window.clearInterval(i),t(o)),n++>50&&(window.clearInterval(i),o=!0,t(o))},10)}function c(e){var t=e.toLowerCase();if(0===t.indexOf("msie")&&0===t.indexOf("trident"))return!1;var n=/(?:msie|rv:)\s?([\d\.]+)/.exec(t);return!!(n&&parseInt(n[1],10)>=10)}function u(e){j.isWebRTCSupported&&(j.isORTCSupported||d(function(t){e(t.match(/^(192\.168\.|169\.254\.|10\.|172\.(1[6-9]|2\d|3[01]))/)?"Local: "+t:"Public: "+t)}))}function d(e){function t(t){var o=/([0-9]{1,3}(\.[0-9]{1,3}){3})/,i=o.exec(t);if(!i)return void console.warn("Could not match IP address in",t);var r=i[1];void 0===n[r]&&e(r),n[r]=!0}var n={},o=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,i=!!window.webkitRTCPeerConnection;if(!o){var r=document.getElementById("iframe");if(!r)throw"NOTE: you need to have an iframe in the page right above the script tag.";var s=r.contentWindow;o=s.RTCPeerConnection||s.mozRTCPeerConnection||s.webkitRTCPeerConnection,i=!!s.webkitRTCPeerConnection}if(o){var a,c={optional:[{RtpDataChannels:!0}]};i&&(a={iceServers:[{urls:"stun:stun.services.mozilla.com"}]},void 0!==j&&j.browser.isFirefox&&j.browser.version<=38&&(a[0]={url:a[0].urls}));var u=new o(a,c);u.onicecandidate=function(e){e.candidate&&t(e.candidate.candidate)},u.createDataChannel(""),u.createOffer(function(e){u.setLocalDescription(e,function(){},function(){})},function(){}),setTimeout(function(){u.localDescription.sdp.split("\n").forEach(function(e){0===e.indexOf("a=candidate:")&&t(e)})},1e3)}}function l(e){if(!I)return void(e&&e());if(!m.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(m.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!m.enumerateDevices&&m.enumerateDevices&&(m.enumerateDevices=m.enumerateDevices.bind(m)),!m.enumerateDevices)return void(e&&e());A=[],P=[],M=[],N=[],L=!1,_=!1;var t={};m.enumerateDevices(function(n){n.forEach(function(e){var n={};for(var o in e)try{"function"!=typeof e[o]&&(n[o]=e[o])}catch(e){}t[n.deviceId+n.label]||("audio"===n.kind&&(n.kind="audioinput"),"video"===n.kind&&(n.kind="videoinput"),n.deviceId||(n.deviceId=n.id),n.id||(n.id=n.deviceId),n.label?("videoinput"!==n.kind||_||(_=!0),"audioinput"!==n.kind||L||(L=!0)):(n.label="Please invoke getUserMedia once.",j.browser.isChrome&&j.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(n.label="HTTPs is required to get label of this "+n.kind+" device.")),"audioinput"===n.kind&&(D=!0,-1===P.indexOf(n)&&P.push(n)),"audiooutput"===n.kind&&(B=!0,-1===M.indexOf(n)&&M.push(n)),"videoinput"===n.kind&&(U=!0,-1===N.indexOf(n)&&N.push(n)),A.push(n),t[n.deviceId+n.label]=n)}),void 0!==j&&(j.MediaDevices=A,j.hasMicrophone=D,j.hasSpeakers=B,j.hasWebcam=U,j.isWebsiteHasWebcamPermissions=_,j.isWebsiteHasMicrophonePermissions=L,j.audioInputDevices=P,j.audioOutputDevices=M,j.videoInputDevices=N),e&&e()})}var f="Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",p="object"===(void 0===n?"undefined":s(n))&&"object"===s(n.versions)&&n.versions.node;if(p){var h=n.versions.node.toString().replace("v","");f="Nodejs/"+h+" (NodeOS) AppleWebKit/"+h+" (KHTML, like Gecko) Nodejs/"+h+" Nodejs/"+h}!function(e){"undefined"==typeof window&&("undefined"==typeof window&&void 0!==o&&(o.navigator={userAgent:f,getUserMedia:function(){}},e.window=o),"undefined"==typeof document&&(e.document={},document.createElement=document.captureStream=document.mozCaptureStream=function(){return{}}),"undefined"==typeof location&&(e.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(e.screen={width:0,height:0}))}(void 0!==o?o:window);var m=window.navigator;void 0!==m?(void 0!==m.webkitGetUserMedia&&(m.getUserMedia=m.webkitGetUserMedia),void 0!==m.mozGetUserMedia&&(m.getUserMedia=m.mozGetUserMedia)):m={getUserMedia:function(){},userAgent:f};var g=!!/Android|webOS|iPhone|iPad|iPod|BB10|BlackBerry|IEMobile|Opera Mini|Mobile|mobile/i.test(m.userAgent||""),v=!(-1===m.userAgent.indexOf("Edge")||!m.msSaveOrOpenBlob&&!m.msSaveBlob),y=!!window.opera||m.userAgent.indexOf(" OPR/")>=0,b=void 0!==window.InstallTrigger,w=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,C=!!window.chrome&&!y,S=!!document.documentMode&&!v,k={Android:function(){return m.userAgent.match(/Android/i)},BlackBerry:function(){return m.userAgent.match(/BlackBerry|BB10/i)},iOS:function(){return m.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return m.userAgent.match(/Opera Mini/i)},Windows:function(){return m.userAgent.match(/IEMobile/i)},any:function(){return k.Android()||k.BlackBerry()||k.iOS()||k.Opera()||k.Windows()},getOsName:function(){var e="Unknown OS";return k.Android()&&(e="Android"),k.BlackBerry()&&(e="BlackBerry"),k.iOS()&&(e="iOS"),k.Opera()&&(e="Opera Mini"),k.Windows()&&(e="Windows"),e}},x="Unknown OS",E="Unknown OS Version",R=function(){var e=m.appVersion,t=m.userAgent,n="-",o=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var i in o){var r=o[i];if(r.r.test(t)){n=r.s;break}}var s="-";switch(/Windows/.test(n)&&(/Windows (.*)/.test(n)&&(s=/Windows (.*)/.exec(n)[1]),n="Windows"),n){case"Mac OS X":/Mac OS X (10[\.\_\d]+)/.test(t)&&(s=/Mac OS X (10[\.\_\d]+)/.exec(t)[1]);break;case"Android":/Android ([\.\_\d]+)/.test(t)&&(s=/Android ([\.\_\d]+)/.exec(t)[1]);break;case"iOS":/OS (\d+)_(\d+)_?(\d+)?/.test(t)&&(s=/OS (\d+)_(\d+)_?(\d+)?/.exec(e),s=s[1]+"."+s[2]+"."+(0|s[3]))}return{osName:n,osVersion:s}}();R&&R.osName&&"-"!=R.osName?(x=R.osName,E=R.osVersion):k.any()&&"Android"==(x=k.getOsName())&&(E=function(e){e=(e||m.userAgent).toLowerCase();var t=e.match(/android\s([0-9\.]*)/);return!!t&&t[1]}());var p="object"===(void 0===n?"undefined":s(n))&&"object"===s(n.versions)&&n.versions.node;"Unknown OS"===x&&p&&(x="Nodejs",E=n.versions.node.toString().replace("v",""));var O=!1,T=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){!O&&e in document.createElement("canvas")&&(O=!0),!T&&e in document.createElement("video")&&(T=!0)});var A=[],P=[],M=[],N=[];m.mediaDevices&&m.mediaDevices.enumerateDevices&&(m.enumerateDevices=function(e){m.mediaDevices.enumerateDevices().then(e).catch(function(){e([])})});var I=!1;void 0!==Y&&"getSources"in Y?I=!0:m.mediaDevices&&m.mediaDevices.enumerateDevices&&(I=!0);var D=!1,B=!1,U=!1,L=!1,_=!1;l();var j=window.DetectRTC||{};j.browser=function(){var e,t,n,o=(m.appVersion,m.userAgent),i=m.appName,r=""+parseFloat(m.appVersion),s=parseInt(m.appVersion,10);if(y){i="Opera";try{r=m.userAgent.split("OPR/")[1].split(" ")[0],s=r.split(".")[0]}catch(e){r="0.0.0.0",s=0}}else S?(t=o.indexOf("MSIE"),i="IE",r=o.substring(t+5)):C?(t=o.indexOf("Chrome"),i="Chrome",r=o.substring(t+7)):w?(t=o.indexOf("Safari"),i="Safari",r=o.substring(t+7),-1!==(t=o.indexOf("Version"))&&(r=o.substring(t+8))):b?(t=o.indexOf("Firefox"),i="Firefox",r=o.substring(t+8)):(e=o.lastIndexOf(" ")+1)<(t=o.lastIndexOf("/"))&&(i=o.substring(e,t),r=o.substring(t+1),i.toLowerCase()===i.toUpperCase()&&(i=m.appName));return v&&(i="Edge",r=parseInt(m.userAgent.match(/Edge\/(\d+).(\d+)$/)[2],10).toString()),-1!==(n=r.indexOf(";"))&&(r=r.substring(0,n)),-1!==(n=r.indexOf(" "))&&(r=r.substring(0,n)),s=parseInt(""+r,10),isNaN(s)&&(r=""+parseFloat(m.appVersion),s=parseInt(m.appVersion,10)),{fullVersion:r,version:s,name:i,isPrivateBrowsing:!1}}(),function(e){var t;try{if(window.webkitRequestFileSystem)window.webkitRequestFileSystem(window.TEMPORARY,1,function(){t=!1},function(e){t=!0});else if(window.indexedDB&&/Firefox/.test(window.navigator.userAgent)){var n;try{n=window.indexedDB.open("test"),n.onerror=function(){return!0}}catch(e){t=!0}void 0===t&&a(function(){return"done"===n.readyState},function(e){e||(t=!n.result)})}else if(c(window.navigator.userAgent)){t=!1;try{window.indexedDB||(t=!0)}catch(e){t=!0}}else if(window.localStorage&&/Safari/.test(window.navigator.userAgent)){try{window.localStorage.setItem("test",1)}catch(e){t=!0}void 0===t&&(t=!1,window.localStorage.removeItem("test"))}}catch(e){t=!1}a(function(){return void 0!==t},function(n){e(t)})}(function(e){j.browser.isPrivateBrowsing=!!e}),j.browser["is"+j.browser.name]=!0,j.osName=x,j.osVersion=E;var V=("object"===(void 0===n?"undefined":s(n))&&"object"===s(n.versions)&&n.versions["node-webkit"],!1);["RTCPeerConnection","webkitRTCPeerConnection","mozRTCPeerConnection","RTCIceGatherer"].forEach(function(e){V||e in window&&(V=!0)}),j.isWebRTCSupported=V,j.isORTCSupported="undefined"!=typeof RTCIceGatherer;var q=!1;j.browser.isChrome&&j.browser.version>=35?q=!0:j.browser.isFirefox&&j.browser.version>=34&&(q=!0),/^(https:|chrome-extension:)$/g.test(location.protocol||"")||(document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(q=!1),j.browser.isFirefox&&(q=!1)),j.isScreenCapturingSupported=q;var W={isSupported:!1,isCreateMediaStreamSourceSupported:!1};["AudioContext","webkitAudioContext","mozAudioContext","msAudioContext"].forEach(function(e){W.isSupported||e in window&&(W.isSupported=!0,window[e]&&"createMediaStreamSource"in window[e].prototype&&(W.isCreateMediaStreamSourceSupported=!0))}),j.isAudioContextSupported=W.isSupported,j.isCreateMediaStreamSourceSupported=W.isCreateMediaStreamSourceSupported;var F=!1;j.browser.isChrome&&j.browser.version>31&&(F=!0),j.isRtpDataChannelsSupported=F;var z=!1;j.browser.isFirefox&&j.browser.version>28?z=!0:j.browser.isChrome&&j.browser.version>25?z=!0:j.browser.isOpera&&j.browser.version>=11&&(z=!0),j.isSctpDataChannelsSupported=z,j.isMobileDevice=g;var J=!1;m.getUserMedia?J=!0:m.mediaDevices&&m.mediaDevices.getUserMedia&&(J=!0),j.browser.isChrome&&j.browser.version>=46&&!/^(https:|chrome-extension:)$/g.test(location.protocol||"")&&document.domain.search&&-1===document.domain.search(/localhost|127.0./g)&&(J="Requires HTTPs"),"Nodejs"===j.osName&&(J=!1),j.isGetUserMediaSupported=J;var H="";if(screen.width){H+=(screen.width?screen.width:"")+" x "+(screen.height?screen.height:"")}j.displayResolution=H,j.isCanvasSupportsStreamCapturing=O,j.isVideoSupportsStreamCapturing=T,"Chrome"==j.browser.name&&j.browser.version>=53&&(j.isCanvasSupportsStreamCapturing||(j.isCanvasSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features"),j.isVideoSupportsStreamCapturing||(j.isVideoSupportsStreamCapturing="Requires chrome flag: enable-experimental-web-platform-features")),j.DetectLocalIPAddress=u,j.isWebSocketsSupported="WebSocket"in window&&2===window.WebSocket.CLOSING,j.isWebSocketsBlocked=!j.isWebSocketsSupported,"Nodejs"===j.osName&&(j.isWebSocketsSupported=!0,j.isWebSocketsBlocked=!1),j.checkWebSocketsSupport=function(e){e=e||function(){};try{var t=new WebSocket("wss://echo.websocket.org:443/");t.onopen=function(){j.isWebSocketsBlocked=!1,e(),t.close(),t=null},t.onerror=function(){j.isWebSocketsBlocked=!0,e()}}catch(t){j.isWebSocketsBlocked=!0,e()}},j.load=function(e){e=e||function(){},l(e)},j.MediaDevices=A,j.hasMicrophone=D,j.hasSpeakers=B,j.hasWebcam=U,j.isWebsiteHasWebcamPermissions=_,j.isWebsiteHasMicrophonePermissions=L,j.audioInputDevices=P,j.audioOutputDevices=M,j.videoInputDevices=N;var G=!1;"setSinkId"in document.createElement("video")&&(G=!0),j.isSetSinkIdSupported=G;var $=!1;j.browser.isFirefox&&"undefined"!=typeof mozRTCPeerConnection?"getSenders"in mozRTCPeerConnection.prototype&&($=!0):j.browser.isChrome&&"undefined"!=typeof webkitRTCPeerConnection&&"getSenders"in webkitRTCPeerConnection.prototype&&($=!0),j.isRTPSenderReplaceTracksSupported=$;var X=!1;j.browser.isFirefox&&j.browser.version>38&&(X=!0),j.isRemoteStreamProcessingSupported=X;var K=!1;void 0!==Y&&"applyConstraints"in Y.prototype&&(K=!0),j.isApplyConstraintsSupported=K;var Z=!1;j.browser.isFirefox&&j.browser.version>=43&&(Z=!0),j.isMultiMonitorScreenCapturingSupported=Z,j.isPromisesSupported=!!("Promise"in window),void 0===j&&(window.DetectRTC={});var Q=window.MediaStream;void 0===Q&&"undefined"!=typeof webkitMediaStream&&(Q=webkitMediaStream),j.MediaStream=void 0!==Q&&Object.keys(Q.prototype),j.MediaStreamTrack=void 0!==Y&&Object.keys(Y.prototype);var ee=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;j.RTCPeerConnection=void 0!==ee&&Object.keys(ee.prototype),window.DetectRTC=j,e.exports=j,i=[],void 0!==(r=function(){return j}.apply(t,i))&&(e.exports=r)}(),document.addEventListener("deviceready",k,!1),k();var H,G={};void 0!==window.RTCPeerConnection?H=window.RTCPeerConnection:"undefined"!=typeof mozRTCPeerConnection?H=mozRTCPeerConnection:"undefined"!=typeof webkitRTCPeerConnection&&(H=webkitRTCPeerConnection);var $=window.RTCSessionDescription||window.mozRTCSessionDescription,X=window.RTCIceCandidate||window.mozRTCIceCandidate,Y=window.MediaStreamTrack;window.onPluginRTCInitialized=function(){Y=window.PluginRTC.MediaStreamTrack,H=window.PluginRTC.RTCPeerConnection,X=window.PluginRTC.RTCIceCandidate,$=window.PluginRTC.RTCSessionDescription},void 0!==window.PluginRTC&&window.onPluginRTCInitialized();var K=function(){function e(e){if(!e||"string"!=typeof e)throw"Invalid arguments.";return e=e.replace("a=rtpmap:100 VP8/90000\r\n",""),e=e.replace("a=rtpmap:101 VP9/90000\r\n",""),e=e.replace(/m=video ([0-9]+) RTP\/SAVPF ([0-9 ]*) 100/g,"m=video $1 RTP/SAVPF $2"),e=e.replace(/m=video ([0-9]+) RTP\/SAVPF ([0-9 ]*) 101/g,"m=video $1 RTP/SAVPF $2"),e=e.replace(/m=video ([0-9]+) RTP\/SAVPF 100([0-9 ]*)/g,"m=video $1 RTP/SAVPF$2"),e=e.replace(/m=video ([0-9]+) RTP\/SAVPF 101([0-9 ]*)/g,"m=video $1 RTP/SAVPF$2"),e=e.replace("a=rtcp-fb:120 nack\r\n",""),e=e.replace("a=rtcp-fb:120 nack pli\r\n",""),e=e.replace("a=rtcp-fb:120 ccm fir\r\n",""),e=e.replace("a=rtcp-fb:101 nack\r\n",""),e=e.replace("a=rtcp-fb:101 nack pli\r\n",""),e=e.replace("a=rtcp-fb:101 ccm fir\r\n","")}function t(e){if(!e||"string"!=typeof e)throw"Invalid arguments.";return e=e.replace("a=rtcp-fb:126 nack\r\n",""),e=e.replace("a=rtcp-fb:126 nack pli\r\n","a=rtcp-fb:126 pli\r\n"),e=e.replace("a=rtcp-fb:97 nack\r\n",""),e=e.replace("a=rtcp-fb:97 nack pli\r\n","a=rtcp-fb:97 pli\r\n")}function n(e,t){if(t&&t.getSenders&&t.getSenders().length){if(!e||"string"!=typeof e)throw"Invalid arguments.";t.getSenders().forEach(function(t){for(var n=t.getParameters(),o=0;o<n.codecs.length;o++)if(n.codecs[o].mimeType==e){n.codecs.unshift(n.codecs.splice(o,1));break}t.setParameters(n)})}}function o(e){return e.replace(/m=audio ([0-9]+) RTP\/SAVPF ([0-9 ]*)/g,"m=audio $1 RTP/SAVPF 9")}function i(e,t,n){return t?void 0!==U&&U?e:f?e:(n&&(t.screen?t.screen<300&&console.warn("It seems that you are using wrong bandwidth value for screen. Screen sharing is expected to fail."):console.warn("It seems that you are not using bandwidth for screen. Screen sharing is expected to fail.")),t.screen&&n&&(e=e.replace(/b=AS([^\r\n]+\r\n)/g,""),e=e.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:"+t.screen+"\r\n")),(t.audio||t.video||t.data)&&(e=e.replace(/b=AS([^\r\n]+\r\n)/g,"")),t.audio&&(e=e.replace(/a=mid:audio\r\n/g,"a=mid:audio\r\nb=AS:"+t.audio+"\r\n")),t.video&&(e=e.replace(/a=mid:video\r\n/g,"a=mid:video\r\nb=AS:"+(n?t.screen:t.video)+"\r\n")),e):e}function r(e,t,n){return s(e,0,-1,t,n)}function s(e,t,n,o,i){for(var r=-1!==n?n:e.length,s=t;s<r;++s)if(0===e[s].indexOf(o)&&(!i||-1!==e[s].toLowerCase().indexOf(i.toLowerCase())))return s;return null}function a(e){var t=new RegExp("a=rtpmap:(\\d+) \\w+\\/\\d+"),n=e.match(t);return n&&2===n.length?n[1]:null}function c(e,t){if(f)return e;t=t||{};var n,o=t.min,i=t.max,s=e.split("\r\n"),c=r(s,"a=rtpmap","VP8/90000");if(c&&(n=a(s[c])),!n)return e;var u,d=r(s,"a=rtpmap","rtx/90000");if(d&&(u=a(s[d])),!d)return e;var l=r(s,"a=fmtp:"+u.toString());if(null!==l){var p="\r\n";p+="a=fmtp:"+n+" x-google-min-bitrate="+(o||"228")+"; x-google-max-bitrate="+(i||"228"),s[l]=s[l].concat(p),e=s.join("\r\n")}return e}function u(e,t){if(f)return e;t=t||{};var n,o=e.split("\r\n"),i=r(o,"a=rtpmap","opus/48000");if(i&&(n=a(o[i])),!n)return e;var s=r(o,"a=fmtp:"+n.toString());if(null===s)return e;var c="";return c+="; stereo="+(void 0!==t.stereo?t.stereo:"1"),c+="; sprop-stereo="+(void 0!==t["sprop-stereo"]?t["sprop-stereo"]:"1"),void 0!==t.maxaveragebitrate&&(c+="; maxaveragebitrate="+(t.maxaveragebitrate||1048576)),void 0!==t.maxplaybackrate&&(c+="; maxplaybackrate="+(t.maxplaybackrate||1048576)),void 0!==t.cbr&&(c+="; cbr="+(void 0!==t.cbr?t.cbr:"1")),void 0!==t.useinbandfec&&(c+="; useinbandfec="+t.useinbandfec),void 0!==t.usedtx&&(c+="; usedtx="+t.usedtx),void 0!==t.maxptime&&(c+="\r\na=maxptime:"+t.maxptime),o[s]=o[s].concat(c),e=o.join("\r\n")}function d(e){return-1===e.indexOf("SAVPF 100 101")||-1===e.indexOf("VP9/90000")?e:e.replace("SAVPF 100 101","SAVPF 101 100")}function l(e){for(var t=e.split("\r\n"),n=null,o=0;o<t.length;o++)if(-1!==t[o].search("opus/48000")){var i=extractSdp(t[o],/:(\d+) opus\/48000/i);break}for(var o=0;o<t.length;o++)if(-1!==t[o].search("a=fmtp")){var r=extractSdp(t[o],/a=fmtp:(\d+)/);if(r===i){n=o;break}}return null===n?e:(t[n]=t[n].concat("; stereo=1; sprop-stereo=1"),e=t.join("\r\n"))}var f=!!navigator.userAgent.match(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i);return"undefined"!=typeof cordova&&(f=!0),navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Crosswalk")&&(f=!0),{removeVPX:e,disableNACK:t,prioritize:n,removeNonG722:o,setApplicationSpecificBandwidth:function(e,t,n){return i(e,t,n)},setVideoBitrates:function(e,t){return c(e,t)},setOpusAttributes:function(e,t){return u(e,t)},preferVP9:d,forceStereoAudio:l}}();window.BandwidthHandler=K;var Z=function(){function e(e,t){var n=t.candidate,o=e.candidates,i=o.stun,r=o.turn;if(b(o.reflexive)||(i=o.reflexive),b(o.relay)||(r=o.relay),(o.host||!n.match(/typ host/g))&&(r||!n.match(/typ relay/g))&&(i||!n.match(/typ srflx/g))){var s=e.iceProtocols;if((s.udp||!n.match(/ udp /g))&&(s.tcp||!n.match(/ tcp /g)))return e.enableLogs&&console.debug("Your candidate pairs:",n),{candidate:n,sdpMid:t.sdpMid,sdpMLineIndex:t.sdpMLineIndex}}}return{processCandidates:e}}(),Q=function(){function e(e){var o=[];return o.push(t("stun:stun.l.google.com:19302")),o.push(n("stun:webrtcweb.com:7788","muazkh","muazkh")),o.push(n("turn:webrtcweb.com:7788","muazkh","muazkh")),o.push(n("turn:webrtcweb.com:8877","muazkh","muazkh")),o.push(n("turns:webrtcweb.com:7788","muazkh","muazkh")),o.push(n("turns:webrtcweb.com:8877","muazkh","muazkh")),o.push(n("stun:webrtcweb.com:4455","muazkh","muazkh")),o.push(n("turn:webrtcweb.com:4455","muazkh","muazkh")),o.push(n("turn:webrtcweb.com:5544?transport=tcp","muazkh","muazkh")),o}function t(e){var t="urls";void 0!==q&&(t="url");var n={};return n[t]=e,n}function n(e,t,n){var o="urls";void 0!==q&&(o="url");var i={username:t,credential:n};return i[o]=e,i}return{getIceServers:e}}();window.currentUserMediaRequest={streams:[],mutex:!1,queueRequests:[],remove:function(e){this.mutex=!1;var t=this.streams[e];if(t){t=t.stream;var n=t.currentUserMediaRequestOptions;this.queueRequests.indexOf(n)&&(delete this.queueRequests[this.queueRequests.indexOf(n)],this.queueRequests=v(this.queueRequests)),this.streams[e].stream=null,delete this.streams[e]}}};var ee=function(){function e(e){if(e)return"string"==typeof e||void 0===e?e:e.audio&&e.video?null:e.audio?"audio":e.video?"video":void 0}function t(t,o,i){function r(){if(i.streamEvents[t.streamid].mediaElement){var e=i.streamEvents[t.streamid].mediaElement;e.volume=0,n(200,5,function(){try{e.volume+=.2}catch(t){e.volume=1}})}}if(t&&t.addEventListener){if(void 0===o||1==o){var s="ended";"oninactive"in t&&(s="inactive"),t.addEventListener(s,function(){ee.onSyncNeeded(this.streamid,s)},!1)}t.mute=function(n,r){n=e(n),void 0!==r&&(o=r),void 0!==n&&"audio"!=n||t.getAudioTracks().forEach(function(e){e.enabled=!1,i.streamEvents[t.streamid].isAudioMuted=!0}),void 0!==n&&"video"!=n||t.getVideoTracks().forEach(function(e){e.enabled=!1}),void 0!==o&&1!=o||ee.onSyncNeeded(t.streamid,"mute",n),i.streamEvents[t.streamid].muteType=n||"both",l(t,"mute",n)},t.unmute=function(n,s){n=e(n),void 0!==s&&(o=s),r(),void 0!==n&&"audio"!=n||t.getAudioTracks().forEach(function(e){e.enabled=!0,i.streamEvents[t.streamid].isAudioMuted=!1}),void 0!==n&&"video"!=n||(t.getVideoTracks().forEach(function(e){e.enabled=!0}),void 0!==n&&"video"==n&&i.streamEvents[t.streamid].isAudioMuted&&function e(n){n||(n=0),++n<100&&i.streamEvents[t.streamid].isAudioMuted&&(t.mute("audio"),setTimeout(function(){e(n)},50))}()),void 0!==o&&1!=o||ee.onSyncNeeded(t.streamid,"unmute",n),i.streamEvents[t.streamid].unmuteType=n||"both",l(t,"unmute",n)}}}function n(e,t,o,i){(i=(i||0)+1)>=t||setTimeout(function(){o(),n(e,t,o,i)},e)}return{setHandlers:t,onSyncNeeded:function(e,t,n){}}}();window.addEventListener("message",function(e){e.origin==window.location.origin&&T(e.data)}),window.IsAndroidChrome=!1;try{navigator.userAgent.toLowerCase().indexOf("android")>-1&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&(window.IsAndroidChrome=!0)}catch(e){}var te,ne,oe="screen",ie={send:function(e){function t(e,r){var l={type:"text",uuid:u,sendingTime:d};e&&(r=e,l.packets=parseInt(r.length/s)),r.length>s?l.message=r.slice(0,s):(l.message=r,l.last=!0,l.isobject=c),o.send(l,i),a=r.slice(l.message.length),a.length&&setTimeout(function(){t(null,a)},n.chunkInterval||100)}var n=e.connection,o=e.channel,i=e.remoteUserId,r=e.text,s=n.chunkSize||1e3,a="",c=!1;w(r)||(c=!0,r=JSON.stringify(r));var u=h(),d=(new Date).getTime();t(r)}},re=function(){function e(e){function t(e,t){if(-1!==e.position){var n=+e.position.toFixed(2).split(".")[1]||100;t.innerHTML=n+"%"}}var n={};e.onFileStart=function(t){var o=document.createElement("div");if(o.title=t.name,o.innerHTML="<label>0%</label> <progress></progress>",t.remoteUserId&&(o.innerHTML+=" (Sharing with:"+t.remoteUserId+")"),e.filesContainer||(e.filesContainer=document.body||document.documentElement),e.filesContainer.insertBefore(o,e.filesContainer.firstChild),!t.remoteUserId)return n[t.uuid]={div:o,progress:o.querySelector("progress"),label:o.querySelector("label")},void(n[t.uuid].progress.max=t.maxChunks);n[t.uuid]||(n[t.uuid]={}),n[t.uuid][t.remoteUserId]={div:o,progress:o.querySelector("progress"),label:o.querySelector("label")},n[t.uuid][t.remoteUserId].progress.max=t.maxChunks},e.onFileProgress=function(e){var o=n[e.uuid];o&&(e.remoteUserId&&!(o=n[e.uuid][e.remoteUserId])||(o.progress.value=e.currentPosition||e.maxChunks||o.progress.max,t(o.progress,o.label)))},e.onFileEnd=function(e){var t=n[e.uuid];if(!t)return void console.error("No such progress-helper element exist.",e);if(!e.remoteUserId||(t=n[e.uuid][e.remoteUserId])){var o=t.div;-1!=e.type.indexOf("image")?o.innerHTML='<a href="'+e.url+'" download="'+e.name+'">Download <strong style="color:red;">'+e.name+'</strong> </a><br /><img src="'+e.url+'" title="'+e.name+'" style="max-width: 80%;">':o.innerHTML='<a href="'+e.url+'" download="'+e.name+'">Download <strong style="color:red;">'+e.name+'</strong> </a><br /><iframe src="'+e.url+'" title="'+e.name+'" style="width: 80%;border: 0;height: inherit;margin-top:1em;"></iframe>'}}}return{handle:e}}(),se=function(){function e(e){e.autoTranslateText=!1,e.language="en",e.googKey="AIzaSyCgB5hmFY74WYB-EoWkhr9cAGr6TiTHrEE",e.Translator={TranslateText:function(t,n){var o=document.createElement("script");o.type="text/javascript";var i=encodeURIComponent(t),r="method"+e.token();window[r]=function(e){return e.data&&e.data.translations[0]&&n?void n(e.data.translations[0].translatedText):e.error&&"Daily Limit Exceeded"===e.error.message?void console.error('Text translation failed. Error message: "Daily Limit Exceeded."'):e.error?void console.error(e.error.message):void console.error(e)};var s="https://www.googleapis.com/language/translate/v2?key="+e.googKey+"&target="+(e.language||"en-US")+"&callback=window."+r+"&q="+i;o.src=s,document.getElementsByTagName("head")[0].appendChild(o)},getListOfLanguages:function(t){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState==XMLHttpRequest.DONE){var e=JSON.parse(n.responseText);if(e&&e.data&&e.data.languages)return void t(e.data.languages);if(e.error&&"Daily Limit Exceeded"===e.error.message)return void console.error('Text translation failed. Error message: "Daily Limit Exceeded."');if(e.error)return void console.error(e.error.message);console.error(e)}};var o="https://www.googleapis.com/language/translate/v2/languages?key="+e.googKey+"&target=en";n.open("GET",o,!0),n.send(null)}}}return{handle:e}}();!function(e){function t(t){e.deletePeer(t)}function n(t){if(e.socketAutoReConnect=!0,e.socket)return void(t&&t(e.socket));if(void 0===u)if("undefined"!=typeof FirebaseConnection)window.SocketConnection=FirebaseConnection;else{if("undefined"==typeof PubNubConnection)throw"SocketConnection.js seems missed.";window.SocketConnection=PubNubConnection}new u(e,function(n){t&&t(e.socket)})}function o(t,n){if(e.dontCaptureUserMedia||t.isDataOnly)return void n();var o={};t.localPeerSdpConstraints.OfferToReceiveAudio&&(o.audio=e.mediaConstraints.audio),t.localPeerSdpConstraints.OfferToReceiveVideo&&(o.video=e.mediaConstraints.video);var i=t.session||e.session;if(i.oneway&&"two-way"!==i.audio&&"two-way"!==i.video&&"two-way"!==i.screen)return void n();i.oneway&&i.audio&&"two-way"===i.audio&&(i={audio:!0}),(i.audio||i.video||i.screen)&&(i.screen?e.getScreenConstraints(function(t,o){e.invokeGetUserMedia({audio:!!C(e)&&S(o),video:o,isScreen:!0},!i.audio&&!i.video||C(e)?n:e.invokeGetUserMedia(null,n))}):(i.audio||i.video)&&e.invokeGetUserMedia(null,n,i))}function i(t,n){e.closeBeforeUnload&&(!0===e.isInitiator&&e.dontMakeMeModerator(),e.peers.getAllParticipants().forEach(function(t){v.onNegotiationNeeded({userLeft:!0},t),e.peers[t]&&e.peers[t].peer&&e.peers[t].peer.close(),delete e.peers[t]}),n||e.closeSocket(),e.broadcasters=[],e.isInitiator=!1)}function r(t,n){if(!t)return void(e.enableLogs&&console.error("No stream to applyConstraints."));n.audio&&t.getAudioTracks().forEach(function(e){e.applyConstraints(n.audio)}),n.video&&t.getVideoTracks().forEach(function(e){e.applyConstraints(n.video)})}function s(t,n,o){if(n)return void v.replaceTrack(t,n,o);e.peers.getAllParticipants().forEach(function(e){v.replaceTrack(t,e,o)})}function l(){if(e.isInitiator&&!e.session.oneway&&!e.session.broadcast&&"many-to-many"===e.direction){var t=e.broadcasters[0],n=[];e.broadcasters.forEach(function(e){e!==t&&n.push(e)}),e.autoCloseEntireSession||e.shiftModerationControl(t,n,!0)}}c=c||{useDefaultDevices:!0},e.channel=e.sessionid=(a||location.href.replace(/\/|:|#|\?|\$|\^|%|\.|`|~|!|\+|@|\[|\||]|\|*. /g,"").split("\n").join("").split("\r").join(""))+"";var v=new d(e),b={};v.onGettingLocalMedia=function(t){if(!b[t.streamid]){b[t.streamid]=!0;try{t.type="local"}catch(e){}e.setStreamEndHandler(t),m(t,function(n){n.id=t.streamid,n.muted=!0,n.volume=0,-1===e.attachStreams.indexOf(t)&&e.attachStreams.push(t),void 0!==ee&&ee.setHandlers(t,!0,e),e.streamEvents[t.streamid]={stream:t,type:"local",mediaElement:n,userid:e.userid,extra:e.extra,streamid:t.streamid,blobURL:n.src||URL.createObjectURL(t),isAudioMuted:!0},f(e,e.streamEvents[t.streamid]),p(e,e.streamEvents[t.streamid]),e.onstream(e.streamEvents[t.streamid])},e)}},v.onGettingRemoteMedia=function(t,n){try{t.type="remote"}catch(e){}e.setStreamEndHandler(t,"remote-stream"),m(t,function(o){o.id=t.streamid,void 0!==ee&&ee.setHandlers(t,!1,e),e.streamEvents[t.streamid]={stream:t,type:"remote",userid:n,extra:e.peers[n]?e.peers[n].extra:{},mediaElement:o,streamid:t.streamid,blobURL:o.src||URL.createObjectURL(t)},p(e,e.streamEvents[t.streamid]),e.onstream(e.streamEvents[t.streamid])},e)},v.onRemovingRemoteMedia=function(t,n){var o=e.streamEvents[t.streamid];o||(o={stream:t,type:"remote",userid:n,extra:e.peers[n]?e.peers[n].extra:{},streamid:t.streamid,mediaElement:e.streamEvents[t.streamid]?e.streamEvents[t.streamid].mediaElement:null}),e.peersBackup[o.userid]&&(o.extra=e.peersBackup[o.userid].extra),e.onstreamended(o),delete e.streamEvents[t.streamid]},v.onNegotiationNeeded=function(t,o,i){n(function(){e.socket.emit(e.socketMessageEvent,"password"in t?t:{remoteUserId:t.remoteUserId||o,message:t,sender:e.userid},i||function(){})})},v.onUserLeft=t,v.disconnectWith=function(t,n){e.socket&&e.socket.emit("disconnect-with",t,n||function(){}),e.deletePeer(t)},e.broadcasters=[],e.socketOptions={transport:"polling"},e.openOrJoin=function(t,n){e.checkPresence(t,function(i,r){if("function"==typeof n&&(n(i,r),n=null),i){e.sessionid=r;var s=!1,a=!1,c=!!e.session.oneway,u=y(e.session);a={OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},s={OfferToReceiveAudio:c?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:c?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo};var d={remoteUserId:e.sessionid,message:{newParticipationRequest:!0,isOneWay:c,isDataOnly:u,localPeerSdpConstraints:s,remotePeerSdpConstraints:a},sender:e.userid,password:n||!1};return void o(d.message,function(){v.onNegotiationNeeded(d)})}e.userid;e.userid=e.sessionid=t||e.sessionid,e.userid+="",e.socket.emit("changed-uuid",e.userid),n&&e.socket.emit("set-password",n),e.isInitiator=!0,y(e.session)||e.captureUserMedia()})},e.open=function(t,o){e.userid;if(e.userid=e.sessionid=t||e.sessionid,e.userid+="",e.isInitiator=!0,n(function(){e.socket.emit("changed-uuid",e.userid),1==o&&e.becomePublicModerator()}),y(e.session))return void("function"==typeof o&&o());e.captureUserMedia("function"==typeof o?o:null)},e.becomePublicModerator=function(){e.isInitiator&&e.socket.emit("become-a-public-moderator")},e.dontMakeMeModerator=function(){e.socket.emit("dont-make-me-moderator")},e.deletePeer=function(t){if(t){var n={userid:t,extra:e.peers[t]?e.peers[t].extra:{}};if(e.peersBackup[n.userid]&&(n.extra=e.peersBackup[n.userid].extra),e.onleave(n),e.peers[t]){e.peers[t].streams.forEach(function(e){e.stop()});var o=e.peers[t].peer;if(o&&"closed"!==o.iceConnectionState)try{o.close()}catch(e){}e.peers[t]&&(e.peers[t].peer=null,delete e.peers[t])}if(-1!==e.broadcasters.indexOf(t)){var i=[];e.broadcasters.forEach(function(e){e!==t&&i.push(e)}),e.broadcasters=i,l()}}},e.rejoin=function(t){if(!e.isInitiator&&t&&Object.keys(t).length){var n={};e.peers[t.remoteUserId]&&(n=e.peers[t.remoteUserId].extra,e.deletePeer(t.remoteUserId)),t&&t.remoteUserId&&(e.join(t.remoteUserId),e.onReConnecting({userid:t.remoteUserId,extra:n}))}},e.join=e.connect=function(t,i){e.sessionid=!!t&&(t.sessionid||t.remoteUserId||t)||e.sessionid,e.sessionid+="";var r=!1,s=!1,a=!1,c=!1;if(t&&t.session||!t||"string"==typeof t){var u=t?t.session||e.session:e.session;a=!!u.oneway,c=y(u),s={OfferToReceiveAudio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:e.sdpConstraints.mandatory.OfferToReceiveVideo},r={OfferToReceiveAudio:a?!!e.session.audio:e.sdpConstraints.mandatory.OfferToReceiveAudio,OfferToReceiveVideo:a?!!e.session.video||!!e.session.screen:e.sdpConstraints.mandatory.OfferToReceiveVideo}}i=i||{};var d=function(){};"function"==typeof i&&(d=i,i={}),void 0!==i.localPeerSdpConstraints&&(r=i.localPeerSdpConstraints),void 0!==i.remotePeerSdpConstraints&&(s=i.remotePeerSdpConstraints),void 0!==i.isOneWay&&(a=i.isOneWay),void 0!==i.isDataOnly&&(c=i.isDataOnly);var l={remoteUserId:e.sessionid,message:{newParticipationRequest:!0,isOneWay:a,isDataOnly:c,localPeerSdpConstraints:r,remotePeerSdpConstraints:s},sender:e.userid,password:!1};return o(l.message,function(){n(function(){e.peers[e.sessionid]||(v.onNegotiationNeeded(l),d())})}),l},e.connectWithAllParticipants=function(t){v.onNegotiationNeeded("connectWithAllParticipants",t||e.sessionid)},e.removeFromBroadcastersList=function(t){v.onNegotiationNeeded("removeFromBroadcastersList",t||e.sessionid),e.peers.getAllParticipants(t||e.sessionid).forEach(function(t){v.onNegotiationNeeded("dropPeerConnection",t),e.deletePeer(t)}),e.attachStreams.forEach(function(e){e.stop()})},e.getUserMedia=e.captureUserMedia=function(t,n){t=t||function(){};var o=n||e.session;if(e.dontCaptureUserMedia||y(o))return void t();(o.audio||o.video||o.screen)&&(o.screen?e.getScreenConstraints(function(i,r){if(i)throw i;e.invokeGetUserMedia({audio:!!C(e)&&S(r),video:r,isScreen:!0},function(i){if((o.audio||o.video)&&!C(e)){var r={};for(var s in o)"screen"!==s&&(r[s]=o[s]);return void e.invokeGetUserMedia(n,t,r)}t(i)})}):(o.audio||o.video)&&e.invokeGetUserMedia(n,t,o))},e.closeBeforeUnload=!0,window.addEventListener("beforeunload",i,!1),e.userid=h(),e.changeUserId=function(t,n){n=n||function(){},e.userid=t||h(),e.socket.emit("changed-uuid",e.userid,n)},e.extra={},e.attachStreams=[],e.session={audio:!0,video:!0},e.enableFileSharing=!1,e.bandwidth={screen:512,audio:128,video:512},e.codecs={audio:"opus",video:"VP9"},e.processSdp=function(t){return V||U?t:(t=K.setApplicationSpecificBandwidth(t,e.bandwidth,!!e.session.screen),t=K.setVideoBitrates(t,{min:8*e.bandwidth.video*1024,max:8*e.bandwidth.video*1024}),t=K.setOpusAttributes(t,{maxaveragebitrate:8*e.bandwidth.audio*1024,maxplaybackrate:8*e.bandwidth.audio*1024,stereo:1,maxptime:3}),"VP9"===e.codecs.video&&(t=K.preferVP9(t)),"H264"===e.codecs.video&&(t=K.removeVPX(t)),"G722"===e.codecs.audio&&(t=K.removeNonG722(t)),t)},void 0!==K&&(e.BandwidthHandler=e.CodecsHandler=K),e.mediaConstraints={audio:{mandatory:{},optional:[{bandwidth:8*e.bandwidth.audio*1024||1048576}]},video:{mandatory:{},optional:[{bandwidth:8*e.bandwidth.video*1024||1048576},{facingMode:"user"}]}},U&&(e.mediaConstraints={audio:!0,video:!0}),c.useDefaultDevices||V||DetectRTC.load(function(){var t,n;if(DetectRTC.MediaDevices.forEach(function(o){"audioinput"===o.kind&&!1!==e.mediaConstraints.audio&&(t=o),"videoinput"===o.kind&&!1!==e.mediaConstraints.video&&(n=o)}),t){if(U)return void(!0!==e.mediaConstraints.audio?e.mediaConstraints.audio.deviceId=t.id:e.mediaConstraints.audio={deviceId:t.id});1==e.mediaConstraints.audio&&(e.mediaConstraints.audio={mandatory:{},optional:[]}),e.mediaConstraints.audio.optional||(e.mediaConstraints.audio.optional=[]);var o=[{sourceId:t.id}];e.mediaConstraints.audio.optional=o.concat(e.mediaConstraints.audio.optional)}if(n){if(U)return void(!0!==e.mediaConstraints.video?e.mediaConstraints.video.deviceId=n.id:e.mediaConstraints.video={deviceId:n.id});1==e.mediaConstraints.video&&(e.mediaConstraints.video={mandatory:{},optional:[]}),e.mediaConstraints.video.optional||(e.mediaConstraints.video.optional=[]);var o=[{sourceId:n.id}];e.mediaConstraints.video.optional=o.concat(e.mediaConstraints.video.optional)}}),e.sdpConstraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0},optional:[{VoiceActivityDetection:!1}]},e.rtcpMuxPolicy="negotiate",e.iceTransportPolicy=null,e.optionalArgument={optional:[{DtlsSrtpKeyAgreement:!0},{googImprovedWifiBwe:!0},{googScreencastMinBitrate:300},{googIPv6:!0},{googDscp:!0},{googCpuUnderuseThreshold:55},{googCpuOveruseThreshold:85},{googSuspendBelowMinBitrate:!0},{googCpuOveruseDetection:!0}],mandatory:{}},e.iceServers=Q.getIceServers(e),e.candidates={host:!0,stun:!0,turn:!0},e.iceProtocols={tcp:!0,udp:!0},e.onopen=function(t){e.enableLogs&&console.info("Data connection has been opened between you & ",t.userid)},e.onclose=function(t){e.enableLogs&&console.warn("Data connection has been closed between you & ",t.userid)},e.onerror=function(t){e.enableLogs&&console.error(t.userid,"data-error",t)},e.onmessage=function(t){e.enableLogs&&console.debug("data-message",t.userid,t.data)},e.send=function(t,n){e.peers.send(t,n)},e.close=e.disconnect=e.leave=function(){i(!1,!0)},e.closeEntireSession=function(t){t=t||function(){},e.socket.emit("close-entire-session",function n(){if(e.getAllParticipants().length)return void setTimeout(n,100);e.onEntireSessionClosed({sessionid:e.sessionid,userid:e.userid,extra:e.extra}),e.changeUserId(null,function(){e.close(),t()})})},e.onEntireSessionClosed=function(t){e.enableLogs&&console.info("Entire session is closed: ",t.sessionid,t.extra)},e.onstream=function(t){var n=e.videosContainer;n.insertBefore(t.mediaElement,n.firstChild),t.mediaElement.play(),setTimeout(function(){t.mediaElement.play()},5e3)},e.onstreamended=function(e){e.mediaElement||(e.mediaElement=document.getElementById(e.streamid)),e.mediaElement&&e.mediaElement.parentNode&&e.mediaElement.parentNode.removeChild(e.mediaElement)},e.direction="many-to-many",e.removeStream=function(t,n){var o;if(e.attachStreams.forEach(function(e){e.id===t&&(o=e)}),!o)return void console.warn("No such stream exist.",t);e.peers.getAllParticipants().forEach(function(t){if(!n||t===n){var i=e.peers[t];try{i.peer.removeStream(o)}catch(e){}}}),e.renegotiate()},e.addStream=function(t,n){function o(o){t.streamCallback&&t.streamCallback(o),e.renegotiate(n)}return t.getAudioTracks?(-1===e.attachStreams.indexOf(t)&&(t.streamid||(t.streamid=t.id),e.attachStreams.push(t)),void e.renegotiate(n)):y(t)?void e.renegotiate(n):void((t.audio||t.video||t.screen)&&(t.screen?e.getScreenConstraints(function(n,i){if(n)return"PermissionDeniedError"===n?(t.streamCallback&&t.streamCallback(null),void(e.enableLogs&&console.error("User rejected to share his screen."))):alert(n);e.invokeGetUserMedia({audio:!!C(e)&&S(i),video:i,isScreen:!0},!t.audio&&!t.video||C(e)?o:e.invokeGetUserMedia(null,o))}):(t.audio||t.video)&&e.invokeGetUserMedia(null,o)))},e.invokeGetUserMedia=function(t,n,o){o||(o=e.session),t||(t=e.mediaConstraints),O({onGettingLocalMedia:function(e){var o=t.video;o&&(o.mediaSource||o.mozMediaSource?e.isScreen=!0:o.mandatory&&o.mandatory.chromeMediaSource&&(e.isScreen=!0)),e.isScreen||(e.isVideo=e.getVideoTracks().length,e.isAudio=!e.isVideo&&e.getAudioTracks().length),v.onGettingLocalMedia(e),n&&n(e)},onLocalMediaError:function(e,t){v.onLocalMediaError(e,t)},localMediaConstraints:t||{audio:!!o.audio&&t.audio,video:!!o.video&&t.video}})},e.applyConstraints=function(t,n){if(!Y||!Y.prototype.applyConstraints)return void alert("track.applyConstraints is NOT supported in your browser.");if(n){var o;return e.streamEvents[n]&&(o=e.streamEvents[n].stream),void r(o,t)}e.attachStreams.forEach(function(e){r(e,t)})},e.replaceTrack=function(t,n,o){function i(i){e.replaceTrack(i,n,o||t.video||t.screen)}if(t=t||{},!H.prototype.getSenders)return void e.addStream(t);if(t instanceof Y)return void s(t,n,o);if(t instanceof J)return t.getVideoTracks().length&&s(t.getVideoTracks()[0],n,!0),void(t.getAudioTracks().length&&s(t.getAudioTracks()[0],n,!1));if(y(t))throw"connection.replaceTrack requires audio and/or video and/or screen.";(t.audio||t.video||t.screen)&&(t.screen?e.getScreenConstraints(function(n,o){if(n)return alert(n);e.invokeGetUserMedia({audio:!!C(e)&&S(o),video:o,isScreen:!0},!t.audio&&!t.video||C(e)?i:e.invokeGetUserMedia(null,i))}):(t.audio||t.video)&&e.invokeGetUserMedia(null,i))},e.resetTrack=function(t,n){t||(t=e.getAllParticipants()),"string"==typeof t&&(t=[t]),t.forEach(function(t){var o=e.peers[t].peer;void 0!==n&&!0!==n||!o.lastVideoTrack||e.replaceTrack(o.lastVideoTrack,t,!0),void 0!==n&&!1!==n||!o.lastAudioTrack||e.replaceTrack(o.lastAudioTrack,t,!1)})},e.renegotiate=function(t){if(t)return void v.renegotiatePeer(t);e.peers.getAllParticipants().forEach(function(e){v.renegotiatePeer(e)})},e.setStreamEndHandler=function(t,n){if(t&&t.addEventListener&&(n=!!n,!t.alreadySetEndHandler)){t.alreadySetEndHandler=!0;var o="ended";"oninactive"in t&&(o="inactive"),t.addEventListener(o,function(){if(t.idInstance&&currentUserMediaRequest.remove(t.idInstance),!n){var o=[];e.attachStreams.forEach(function(e){e.id!=t.id&&o.push(e)}),e.attachStreams=o}var i=e.streamEvents[t.streamid];if(i||(i={stream:t,streamid:t.streamid,type:n?"remote":"local",userid:e.userid,extra:e.extra,mediaElement:e.streamEvents[t.streamid]?e.streamEvents[t.streamid].mediaElement:null}),n&&e.peers[i.userid]){var r=e.peers[i.userid].peer,o=[];r.getRemoteStreams().forEach(function(e){e.id!=t.id&&o.push(e)}),e.peers[i.userid].streams=o}i.userid===e.userid&&"remote"===i.type||(e.peersBackup[i.userid]&&(i.extra=e.peersBackup[i.userid].extra),e.onstreamended(i),delete e.streamEvents[t.streamid])},!1)}},e.onMediaError=function(t,n){e.enableLogs&&console.error(t,n)},e.addNewBroadcaster=function(t,n){e.socket.isIO||(e.broadcasters.length&&setTimeout(function(){v.connectNewParticipantWithAllBroadcasters(t,n,e.broadcasters.join("|-,-|"))},1e4),e.session.oneway||e.session.broadcast||"many-to-many"!==e.direction||-1!==e.broadcasters.indexOf(t)||(e.broadcasters.push(t),l()))},e.autoCloseEntireSession=!1,e.filesContainer=e.videosContainer=document.body||document.documentElement,e.isInitiator=!1,e.shareFile=v.shareFile,void 0!==re&&re.handle(e),void 0!==se&&se.handle(e),e.token=h,e.onNewParticipant=function(t,n){e.acceptParticipationRequest(t,n)},e.acceptParticipationRequest=function(e,t){t.successCallback&&(t.successCallback(),delete t.successCallback),v.createNewPeer(e,t)},e.onShiftedModerationControl=function(t,n){e.acceptModerationControl(t,n)},e.acceptModerationControl=function(t,n){e.isInitiator=!0,e.broadcasters=n,e.peers.getAllParticipants().forEach(function(n){v.onNegotiationNeeded({changedUUID:t,oldUUID:e.userid,newUUID:t},n)}),e.userid=t,e.changeUserId(e.userid)},e.shiftModerationControl=function(e,t,n){v.onNegotiationNeeded({shiftedModerationControl:!0,broadcasters:t,firedOnLeave:!!n},e)},void 0!==ee&&(e.StreamsHandler=ee),e.onleave=function(e){},e.invokeSelectFileDialog=function(e){var t=new FileSelector;t.accept="*.*",t.selectSingleFile(e)},e.getPublicModerators=function(t,o){"function"==typeof t&&(o=t),n(function(){e.socket.emit("get-public-moderators","string"==typeof t?t:"",o)})},e.onmute=function(e){e&&e.mediaElement&&("both"===e.muteType||"video"===e.muteType?(e.mediaElement.src=null,e.mediaElement.pause(),e.mediaElement.poster=e.snapshot||"https://cdn.webrtc-experiment.com/images/muted.png"):"audio"===e.muteType&&(e.mediaElement.muted=!0))},e.onunmute=function(e){e&&e.mediaElement&&e.stream&&("both"===e.unmuteType||"video"===e.unmuteType?(e.mediaElement.poster=null,e.mediaElement.src=URL.createObjectURL(e.stream),e.mediaElement.play()):"audio"===e.unmuteType&&(e.mediaElement.muted=!1))},e.onExtraDataUpdated=function(t){t.status="online",e.onUserStatusChanged(t,!0)},e.onJoinWithPassword=function(e){console.warn(e,"is password protected. Please join with password.")},e.onInvalidPassword=function(e,t){console.warn(e,"is password protected. Please join with valid password. Your old password",t,"is wrong.")},e.onPasswordMaxTriesOver=function(e){console.warn(e,"is password protected. Your max password tries exceeded the limit.")},e.getAllParticipants=function(t){return e.peers.getAllParticipants(t)},void 0!==ee&&(ee.onSyncNeeded=function(t,n,o){e.peers.getAllParticipants().forEach(function(e){v.onNegotiationNeeded({streamid:t,action:n,streamSyncNeeded:!0,type:o||"both"},e)})}),e.connectSocket=function(e){n(e)},e.closeSocket=function(){try{io.sockets={}}catch(e){}e.socket&&("function"==typeof e.socket.disconnect&&e.socket.disconnect(),"function"==typeof e.socket.resetProps&&e.socket.resetProps(),e.socket=null)},e.getSocket=function(t){return e.socket?t&&t(e.socket):n(t),e.socket},e.getRemoteStreams=v.getRemoteStreams;var w=["selectFirst","selectAll","forEach"];if(e.streamEvents={selectFirst:function(t){if(!t){var n;for(var o in e.streamEvents)-1!==w.indexOf(o)||n||(n=e.streamEvents[o]);return n}},selectAll:function(){}},e.socketURL="/",e.socketMessageEvent="RTCMultiConnection-Message",e.socketCustomEvent="RTCMultiConnection-Custom-Message",e.DetectRTC=DetectRTC,e.setCustomSocketEvent=function(t){t&&(e.socketCustomEvent=t),e.socket&&e.socket.emit("set-custom-socket-event-listener",e.socketCustomEvent)},e.getNumberOfBroadcastViewers=function(t,n){e.socket&&t&&n&&e.socket.emit("get-number-of-users-in-specific-broadcast",t,n)},e.onNumberOfBroadcastViewersUpdated=function(t){e.enableLogs&&e.isInitiator&&console.info("Number of broadcast (",t.broadcastId,") viewers",t.numberOfBroadcastViewers)},e.onUserStatusChanged=function(t,n){e.enableLogs&&!n&&console.info(t.userid,t.status)},e.getUserMediaHandler=O,e.multiPeersHandler=v,e.enableLogs=!0,e.setCustomSocketHandler=function(e){void 0!==u&&(u=e)},e.chunkSize=65e3,e.maxParticipantsAllowed=1e3,e.disconnectWith=v.disconnectWith,e.checkPresence=function(t,n){if(!e.socket)return void e.connectSocket(function(){e.checkPresence(t,n)});e.socket.emit("check-presence",(t||e.sessionid)+"",n)},e.onReadyForOffer=function(t,n){e.multiPeersHandler.createNewPeer(t,n)},e.setUserPreferences=function(t){return e.dontAttachStream&&(t.dontAttachLocalStream=!0),e.dontGetRemoteStream&&(t.dontGetRemoteStream=!0),t},e.updateExtraData=function(){e.socket.emit("extra-data-updated",e.extra)},e.enableScalableBroadcast=!1,e.maxRelayLimitPerUser=3,e.dontCaptureUserMedia=!1,e.dontAttachStream=!1,e.dontGetRemoteStream=!1,e.onReConnecting=function(t){e.enableLogs&&console.info("ReConnecting with",t.userid,"...")},e.beforeAddingStream=function(e){return e},e.beforeRemovingStream=function(e){return e},void 0!==A&&(e.checkIfChromeExtensionAvailable=A),void 0!==P&&(e.checkIfChromeExtensionAvailable=P),void 0!==N&&(e.getChromeExtensionStatus=N),e.getScreenConstraints=function(t,n){C(e,n)&&(n=!0),I(function(n,o){n||(o=e.modifyScreenConstraints(o),t(n,o))},n)},e.modifyScreenConstraints=function(e){return e},e.onPeerStateChanged=function(t){e.enableLogs&&-1!==t.iceConnectionState.search(/closed|failed/gi)&&console.error("Peer connection is closed between you & ",t.userid,t.extra,"state:",t.iceConnectionState)},e.isOnline=!0,g("online",function(){e.isOnline=!0}),g("offline",function(){e.isOnline=!1}),e.isLowBandwidth=!1,navigator&&navigator.connection&&navigator.connection.type&&(e.isLowBandwidth=-1!==navigator.connection.type.toString().toLowerCase().search(/wifi|cell/g),e.isLowBandwidth)){if(e.bandwidth={audio:30,video:30,screen:30},e.mediaConstraints.audio&&e.mediaConstraints.audio.optional&&e.mediaConstraints.audio.optional.length){var k=[];e.mediaConstraints.audio.optional.forEach(function(e){void 0===e.bandwidth&&k.push(e)}),e.mediaConstraints.audio.optional=k}if(e.mediaConstraints.video&&e.mediaConstraints.video.optional&&e.mediaConstraints.video.optional.length){var k=[];e.mediaConstraints.video.optional.forEach(function(e){void 0===e.bandwidth&&k.push(e)}),e.mediaConstraints.video.optional=k}}e.getExtraData=function(t){if(!t)throw"remoteUserId is required.";return e.peers[t]?e.peers[t].extra:{}},c.autoOpenOrJoin&&e.openOrJoin(e.sessionid),e.onUserIdAlreadyTaken=function(t,n){e.enableLogs&&console.warn("Userid already taken.",t,"Your new userid:",n),e.join(t)},e.onRoomFull=function(t){e.enableLogs&&console.warn(t,"is full.")},e.trickleIce=!0,e.version="3.4.4",e.onSettingLocalDescription=function(t){e.enableLogs&&console.info("Set local description for remote user",t.userid)},e.oneRoomAlreadyExist=function(t){e.enableLogs&&console.info('Server says "Room ',t,"already exist. Joining instead."),e.join(t)}}(this)}}).call(t,n(12),n(0))},function(e,t,n){"use strict";function o(e,t){"object"===(void 0===e?"undefined":r(e))&&(t=e,e=void 0),t=t||{};var n,o=s(e),a=o.source,l=o.id,f=o.path,p=d[l]&&f in d[l].nsps,h=t.forceNew||t["force new connection"]||!1===t.multiplex||p;return h?(u("ignoring socket cache for %s",a),n=c(a,t)):(d[l]||(u("new io instance for %s",a),d[l]=c(a,t)),n=d[l]),o.query&&!t.query?t.query=o.query:t&&"object"===r(t.query)&&(t.query=i(t.query)),n.socket(o.path,t)}function i(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=n(54),a=n(13),c=n(22),u=n(6)("socket.io-client");e.exports=t=o;var d=t.managers={};t.protocol=a.protocol,t.connect=o,t.Manager=n(22),t.Socket=n(24)},function(e,t,n){"use strict";(function(t){function o(e,n){var o=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(r("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),r("parse %s",e),o=i(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var s=-1!==o.host.indexOf(":"),a=s?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(n&&n.port===o.port?"":":"+o.port),o}var i=n(21),r=n(6)("socket.io-client:url");e.exports=o}).call(t,n(0))},function(e,t,n){"use strict";function o(){return t.colors[d++%t.colors.length]}function i(e){function n(){}function i(){var e=i,n=+new Date,r=n-(u||n);e.diff=r,e.prev=u,e.curr=n,u=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=o());for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(n,o){if("%%"===n)return n;c++;var i=t.formatters[o];if("function"==typeof i){var r=s[c];n=i.call(e,r),s.splice(c,1),c--}return n}),s=t.formatArgs.apply(e,s),(i.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,i.enabled=!0;var r=t.enabled(e)?i:n;return r.namespace=e,r}function r(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),o=n.length,i=0;i<o;i++)n[i]&&(e=n[i].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function a(e){var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i.debug=i,t.coerce=c,t.disable=s,t.enable=r,t.enabled=a,t.humanize=n(20),t.names=[],t.skips=[],t.formatters={};var u,d=0},function(e,t,n){"use strict";(function(e){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(59),r=n(26);t.deconstructPacket=function(e){function t(e){if(!e)return e;if(r(e)){var s={_placeholder:!0,num:n.length};return n.push(e),s}if(i(e)){for(var a=new Array(e.length),c=0;c<e.length;c++)a[c]=t(e[c]);return a}if("object"==(void 0===e?"undefined":o(e))&&!(e instanceof Date)){var a={};for(var u in e)a[u]=t(e[u]);return a}return e}var n=[],s=e.data,a=e;return a.data=t(s),a.attachments=n.length,{packet:a,buffers:n}},t.reconstructPacket=function(e,t){function n(e){if(e&&e._placeholder){return t[e.num]}if(i(e)){for(var r=0;r<e.length;r++)e[r]=n(e[r]);return e}if(e&&"object"==(void 0===e?"undefined":o(e))){for(var s in e)e[s]=n(e[s]);return e}return e}return e.data=n(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){function s(t,u,d){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var l=new FileReader;l.onload=function(){d?d[u]=this.result:c=this.result,--a||n(c)},l.readAsArrayBuffer(t)}else if(i(t))for(var f=0;f<t.length;f++)s(t[f],f,t);else if(t&&"object"==(void 0===t?"undefined":o(t))&&!r(t))for(var p in t)s(t[p],p,t)}var a=0,c=t;s(c),a||n(c)}}).call(t,n(0))},function(e,t,n){"use strict";function o(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var o="color: "+this.color;e=[e[0],o,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,r=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(r=i))}),e.splice(r,0,o),e}function r(){return"object"===("undefined"==typeof console?"undefined":c(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function a(){var e;try{e=t.storage.debug}catch(e){}return e}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t=e.exports=n(58),t.log=r,t.formatArgs=i,t.save=s,t.load=a,t.useColors=o,t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(a())},function(e,t,n){"use strict";function o(){return t.colors[d++%t.colors.length]}function i(e){function n(){}function i(){var e=i,n=+new Date,r=n-(u||n);e.diff=r,e.prev=u,e.curr=n,u=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=o());var s=Array.prototype.slice.call(arguments);s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(n,o){if("%%"===n)return n;a++;var i=t.formatters[o];if("function"==typeof i){var r=s[a];n=i.call(e,r),s.splice(a,1),a--}return n}),"function"==typeof t.formatArgs&&(s=t.formatArgs.apply(e,s)),(i.log||t.log||console.log.bind(console)).apply(e,s)}n.enabled=!1,i.enabled=!0;var r=t.enabled(e)?i:n;return r.namespace=e,r}function r(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),o=n.length,i=0;i<o;i++)n[i]&&(e=n[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function s(){t.enable("")}function a(e){var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1}function c(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=i,t.coerce=c,t.disable=s,t.enable=r,t.enabled=a,t.humanize=n(60),t.names=[],t.skips=[],t.formatters={};var u,d=0},function(e,t,n){"use strict";e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function o(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*c;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=d?Math.round(e/d)+"d":e>=u?Math.round(e/u)+"h":e>=c?Math.round(e/c)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function r(e){return s(e,d,"day")||s(e,u,"hour")||s(e,c,"minute")||s(e,a,"second")||e+" ms"}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,c=60*a,u=60*c,d=24*u,l=365.25*d;e.exports=function(e,t){return t=t||{},"string"==typeof e?o(e):t.long?r(e):i(e)}},function(e,t,n){"use strict";function o(e,t){var n=[];t=t||0;for(var o=t||0;o<e.length;o++)n[o-t]=e[o];return n}e.exports=o},function(e,t,n){"use strict";(function(e,o){var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(s){function a(e){for(var t,n,o=[],i=0,r=e.length;i<r;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<r?(n=e.charCodeAt(i++),56320==(64512&n)?o.push(((1023&t)<<10)+(1023&n)+65536):(o.push(t),i--)):o.push(t);return o}function c(e){for(var t,n=e.length,o=-1,i="";++o<n;)t=e[o],t>65535&&(t-=65536,i+=C(t>>>10&1023|55296),t=56320|1023&t),i+=C(t);return i}function u(e,t){return C(e>>t&63|128)}function d(e){if(0==(4294967168&e))return C(e);var t="";return 0==(4294965248&e)?t=C(e>>6&31|192):0==(4294901760&e)?(t=C(e>>12&15|224),t+=u(e,6)):0==(4292870144&e)&&(t=C(e>>18&7|240),t+=u(e,12),t+=u(e,6)),t+=C(63&e|128)}function l(e){for(var t,n=a(e),o=n.length,i=-1,r="";++i<o;)t=n[i],r+=d(t);return r}function f(){if(w>=b)throw Error("Invalid byte index");var e=255&y[w];if(w++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(){var e,t,n,o,i;if(w>b)throw Error("Invalid byte index");if(w==b)return!1;if(e=255&y[w],w++,0==(128&e))return e;if(192==(224&e)){var t=f();if((i=(31&e)<<6|t)>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=f(),n=f(),(i=(15&e)<<12|t<<6|n)>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=f(),n=f(),o=f(),(i=(15&e)<<18|t<<12|n<<6|o)>=65536&&i<=1114111))return i;throw Error("Invalid WTF-8 detected")}function h(e){y=a(e),b=y.length,w=0;for(var t,n=[];!1!==(t=p());)n.push(t);return c(n)}var m="object"==r(t)&&t,g="object"==r(e)&&e&&e.exports==m&&e,v="object"==(void 0===o?"undefined":r(o))&&o;v.global!==v&&v.window!==v||(s=v);var y,b,w,C=String.fromCharCode,S={version:"1.0.0",encode:l,decode:h};if("object"==r(n(7))&&n(7))void 0!==(i=function(){return S}.call(t,n,t,e))&&(e.exports=i);else if(m&&!m.nodeType)if(g)g.exports=S;else{var k={},x=k.hasOwnProperty;for(var E in S)x.call(S,E)&&(m[E]=S[E])}else s.wtf8=S}(void 0)}).call(t,n(14)(e),n(0))},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VideoConferenceTest=t.VideoConferenceContainer=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),u=o(c),d=n(1),l=o(d),f=n(30),p=(o(f),n(29)),h=o(p),m=n(28),g=o(m),v=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isClient:"",connected:!1,exited:!1,roomId:e.props.roomId,video:e.props.video,chat:e.props.chat,listenAgain:e.props.listenAgain,exitPropagate:e.props.exitPropagate},e}return s(t,e),a(t,[{key:"componentWillMount",value:function(){console.log("VideoConferenceTest Mount ...")}},{key:"componentWillUnmount",value:function(){console.log("VideoConferenceTest Unmount ...")}},{key:"handleOnRoomIdDefine",value:function(e){console.log("VideoConferenceTest RoomDefine -> "+e),this.setState({roomId:e,exited:!1})}},{key:"handleOnListenAgainDefine",value:function(e){this.setState({listenAgain:e})}},{key:"handleOnExitPropagateDefine",value:function(e){this.setState({exitPropagate:e})}},{key:"handleOnVideoDefine",value:function(e){this.setState({exited:!0}),this.setState({video:e})}},{key:"handleOnChatDefine",value:function(e){this.setState({chat:e})}},{key:"handleOnModeDefine",value:function(e){console.log("VideoConferenceTest ModeDefine "+e),this.setState({isClient:e+""}),this.props.callbacks.onModeDefine&&this.props.callbacks.onModeDefine(e)}},{key:"handleOnConnect",value:function(e){console.log("VideoConferenceTest handleOnConnect "+e),this.setState({connected:e}),this.props.callbacks.onConnect&&this.props.callbacks.onConnect(e)}},{key:"handleOnLocalSend",value:function(e){console.log("VideoConferenceTest handleOnLocalSend: "+e),this.props.callbacks.onLocalSend&&this.props.callbacks.onLocalSend(e)}},{key:"handleOnExit",value:function(e,t){console.log("VideoConferenceTest handleOnExit: "+e+" / "+t),this.setState({exited:!0}),this.props.callbacks.onExit&&this.props.callbacks.onExit(e,t)}},{key:"render",value:function(){var e=void 0;return this.state.exited||(e=u.default.createElement(g.default,{roomId:this.state.roomId,video:this.state.video,chat:this.state.chat,listenAgain:this.state.listenAgain,exitPropagate:this.state.exitPropagate,socketIoServer:this.props.socketIoServer,callbacks:{onModeDefine:this.handleOnModeDefine.bind(this),onConnect:this.handleOnConnect.bind(this),onLocalSend:this.handleOnLocalSend.bind(this),onExit:this.handleOnExit.bind(this)},initMessages:this.props.initMessages,ringIn:this.props.ringIn,ringOut:this.props.ringOut,ringStart:this.props.ringStart})),u.default.createElement("section",{className:"video-conference-test"},u.default.createElement(h.default,{isClient:this.state.isClient,connected:this.state.connected,exited:this.state.exited,roomId:this.state.roomId,video:this.state.video,chat:this.state.chat,listenAgain:this.state.listenAgain,exitPropagate:this.state.exitPropagate,onRoomIdDefine:this.handleOnRoomIdDefine.bind(this),onListenAgainDefine:this.handleOnListenAgainDefine.bind(this),onExitPropagateDefine:this.handleOnExitPropagateDefine.bind(this),onVideoDefine:this.handleOnVideoDefine.bind(this),onChatDefine:this.handleOnChatDefine.bind(this)}),e)}}]),t}(c.Component);v.propTypes={roomId:l.default.string.isRequired,video:l.default.bool,chat:l.default.bool,listenAgain:l.default.bool,exitPropagate:l.default.bool,socketIoServer:l.default.string.isRequired,callbacks:l.default.object,initMessages:l.default.array,ringIn:l.default.string,ringOut:l.default.string,ringStart:l.default.string},v.defaultProps={roomId:"yoyo",video:!0,chat:!1,listenAgain:!1,exitPropagate:!0,socketIoServer:"https://rtcmulticonnection.herokuapp.com:443/",callbacks:{},initMessages:[],ringIn:"ring-in.mp3",ringOut:"ring-out.mp3",ringStart:"ring-start.mp3"},t.default=g.default,t.VideoConferenceContainer=g.default,t.VideoConferenceTest=v},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),u=o(c),d=n(1),l=o(d),f=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){var e=this.props.message;return"local"===e.origin?u.default.createElement("div",{className:"media-message media-message-local"},e.data):"notice"===e.origin?u.default.createElement("div",{className:"media-message media-message-remote media-message-notice"},e.data):u.default.createElement("div",{className:"media-message media-message-remote"},e.data)}}]),t}(c.Component),p=function(e){function t(){return i(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),a(t,[{key:"render",value:function(){var e=this.props.messages.map(function(e){return u.default.createElement(f,{message:e})});return u.default.createElement("div",{id:"chatfile-list",className:"chatfile-list"},e)}},{key:"componentDidUpdate",value:function(){var e=document.getElementById("chatfile-list");e.scrollTop=e.scrollHeight}}]),t}(c.Component),h=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return console.log("MessageForm constructor: -> "+JSON.stringify(e.props)),e.state={input:""},e}return s(t,e),a(t,[{key:"updateInput",value:function(e){this.setState({input:e.target.value})}},{key:"submit",value:function(e){e.preventDefault(),this.state.input&&(this.props.onLocalSend(this.state.input),this.setState({input:""}))}},{key:"render",value:function(){return u.default.createElement("form",{onSubmit:this.submit,className:"chatfile-form"},u.default.createElement("input",{value:this.state.input,placeholder:"... Nouveau message + touche Entrée",className:"media-message-input",onChange:this.updateInput.bind(this),type:"text"}),u.default.createElement("input",{type:"submit",className:"media-message-send",value:"Envoyer",onClick:this.submit.bind(this)}))}}]),t}(c.Component),m=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return console.log("Chat constructor: -> "+JSON.stringify(e.props)),e.state={messages:e.props.initMessages.slice(0)},e.props.assignRemoteNotice(e.onRemoteNotice.bind(e)),e.props.assignRemoteReceive(e.onRemoteReceive.bind(e)),e.props.assignClearChat(e.onClear.bind(e)),e}return s(t,e),a(t,[{key:"onLocalSend",value:function(e){console.log("Chat.onLocalSend(): "+e);var t={origin:"local",data:e};this.state.messages.push(t),this.setState({messages:this.state.messages}),this.props.onLocalSend(e)}},{key:"onRemoteNotice",value:function(e){console.log("Chat.onRemoteNotice(): "+e);var t={origin:"notice",data:e};this.state.messages.push(t),this.setState({messages:this.state.messages})}},{key:"onRemoteReceive",value:function(e){console.log("Chat.onRemoteReceive(): "+e);var t={origin:"remote",data:e};this.state.messages.push(t),this.setState({messages:this.state.messages})}},{key:"onClear",value:function(){console.log("Chat.onClear(): "+ +JSON.stringify(this.props.initMessages)),this.setState({messages:this.props.initMessages.slice(0)})}},{key:"render",value:function(){return u.default.createElement("div",{className:"chatfile"},u.default.createElement(p,{messages:this.state.messages}),u.default.createElement(h,{onLocalSend:this.onLocalSend.bind(this)}))}}]),t}(c.Component);m.propTypes={initMessages:l.default.array.isRequired,assignRemoteNotice:l.default.func.isRequired,assignRemoteReceive:l.default.func.isRequired,assignClearChat:l.default.func.isRequired,onLocalSend:l.default.func.isRequired},m.defaultProps={initMessages:[]},t.default=m},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),u=o(c),d=n(1),l=o(d),f=n(64),p=o(f),h=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return console.log("ChatFileContainer constructor: -> "+JSON.stringify(e.props)),e}return s(t,e),a(t,[{key:"render",value:function(){return u.default.createElement("div",{id:"chatfile-container",className:"chatfile-container"},u.default.createElement(p.default,{initMessages:this.props.initMessages,assignRemoteNotice:this.props.assignRemoteNotice,assignRemoteReceive:this.props.assignRemoteReceive,assignClearChat:this.props.assignClearChat,onLocalSend:this.props.onLocalSend}))}}]),t}(c.Component);h.propTypes={initMessages:l.default.array.isRequired,assignRemoteNotice:l.default.func.isRequired,assignRemoteReceive:l.default.func.isRequired,assignClearChat:l.default.func.isRequired,onLocalSend:l.default.func.isRequired},h.defaultProps={initMessages:[]},t.default=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),u=o(c),d=n(1),l=o(d),f=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.lastSound=e.props.sound,e}return s(t,e),a(t,[{key:"componentDidUpdate",value:function(){console.log("Ring did Update ..."+this.lastSound+" "+JSON.stringify(this.props));var e=document.getElementById("ringer");e&&this.lastSound!==this.props.sound&&e.play(),this.lastSound=this.props.sound}},{key:"render",value:function(){return console.log("Ring render -> "+this.props.sound),this.props.sound?u.default.createElement("audio",{id:"ringer",src:this.props.sound,autoPlay:!0}):u.default.createElement("div",null)}}]),t}(c.Component);f.propTypes={sound:l.default.string},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),u=o(c),d=n(1),l=o(d),f=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.type=e.props.type,console.log("VideoConference '"+e.type+"' constructor: -> "+JSON.stringify(e.props)),e}return s(t,e),a(t,[{key:"componentDidMount",value:function(){console.log("VideoConferenceContainer '"+this.type+"' did Mount ..."),this.installVideoElement()}},{key:"componentDidUpdate",value:function(){console.log("VideoConference '"+this.type+"' did Update ..."+JSON.stringify(this.props)),this.installVideoElement()}},{key:"installVideoElement",value:function(){var e=this.props.streamConf;if(e.mediaElement){var t=document.getElementById(e.streamId);if(t)console.log("VideoConference '"+this.type+"' video already installed : "+t);else{console.log("VideoConference '"+this.type+"' insert video ..."),e.mediaElement.style.maxHeight=screen.height+"px";document.getElementById("media-box-"+e.type).appendChild(e.mediaElement),setTimeout(function(){e.mediaElement.play()},5e3)}}}},{key:"render",value:function(){console.log("VideoConference '"+this.type+"' render: -> "+JSON.stringify(this.props));var e=this.props.streamConf;if(!e.streamId){var t=this.props.isClient?"Client: ":"Server: ";return this.props.isClient?u.default.createElement("div",{className:"media-message"},t," Vous pouvez vous connectez au serveur ... "):u.default.createElement("div",{className:"media-message"},t," En attente de la connexion du client ... ")}return u.default.createElement("div",{id:"div-"+e.streamId,className:this.props.miniature?"media-container media-miniature":"media-container media-normal"},u.default.createElement("div",{id:"media-box-"+e.type,className:"local"===this.props.type?"media-box media-mirroring":"media-box"}))}}]),t}(c.Component);f.propTypes={type:l.default.string.isRequired,isClient:l.default.bool.isRequired,isConnected:l.default.bool.isRequired,miniature:l.default.bool.isRequired,streamConf:l.default.object.isRequired},t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(2),u=o(c),d=n(1),l=o(d),f=function(e){function t(){i(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return console.log("VideoControls constructor: -> "+JSON.stringify(e.props)),e.callbacks=e.props.callbacks,e.webcamExists=e.props.webcamExists,e.state={isMicroActived:e.props.isMicroActived,isZoomActived:e.props.isZoomActived,isWebcamActived:e.props.isWebcamActived,isClient:e.props.isClient,isConnected:e.props.isConnected},e}return s(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({isClient:e.isClient,isConnected:e.isConnected})}},{key:"toggleMicro",value:function(e){var t=e.target;console.log("VideoControls toggleMicro: "+t.className);var n=!this.state.isMicroActived;this.setState({isMicroActived:n}),this.callbacks.toggleMedia&&this.callbacks.toggleMedia("audio",n)}},{key:"toggleZoom",value:function(e){var t=e.target;console.log("VideoControls toggleZoom: "+t.className);var n=!this.state.isZoomActived;this.setState({isZoomActived:n}),this.callbacks.toggleZoom&&this.callbacks.toggleZoom(n)}},{key:"toggleWebcam",value:function(e){var t=e.target;if(console.log("VideoControls toggleWebcam: "+t.className),this.props.webcamExists){var n=!this.state.isWebcamActived;this.setState({isWebcamActived:n}),this.callbacks.toggleMedia&&this.callbacks.toggleMedia("video",n)}}},{key:"toggleConnection",value:function(e){var t=e.target;console.log("VideoControls toggleConnection: "+t.className),this.callbacks.toggleConnection&&this.callbacks.toggleConnection()}},{key:"onExit",value:function(e){console.log("VideoControls onExit ... "),this.callbacks.onExit&&this.callbacks.onExit(!0,!0)}},{key:"render",value:function(){console.log("VideoControls render: -> "+JSON.stringify(this.props)),console.log("VideoControls render: -> "+JSON.stringify(this.state));var e=void 0,t=void 0;this.state.isMicroActived?(e="control mute-audio",t="Désactive votre micro"):(e="control unmute-audio",t="Active votre micro");var n=void 0,o=void 0;this.state.isZoomActived?(n="control zoom-out",o="Désactive le mode plein écran"):(n="control zoom-in",o="Passage en plein écran");var i=void 0,r=void 0;this.props.webcamExists?this.state.isWebcamActived?(i="control mute-video",r="Désactive la webcam"):(i="control unmute-video",r="Active la webcam"):(i="control nomute-video",r="Votre webcam est absente");var s=void 0,a=void 0;return this.state.isConnected?(s="control connexion-off",a="Raccrocher"):this.state.isClient?(s="control connexion-on",a="Se connecter"):(s="control connexion-no",a="Connexion indisponible coté serveur"),u.default.createElement("div",{className:"media-controls"},u.default.createElement("div",{className:"media-controls-group"},u.default.createElement("div",{className:s,title:a,onClick:this.toggleConnection.bind(this)}),u.default.createElement("div",{className:e,title:t,onClick:this.toggleMicro.bind(this)}),u.default.createElement("div",{className:n,title:o,onClick:this.toggleZoom.bind(this)}),u.default.createElement("div",{className:i,title:r,onClick:this.toggleWebcam.bind(this)}),u.default.createElement("div",{className:"control exit-video-conference",title:"Quitter la video conférence",onClick:this.onExit.bind(this)})))}}]),t}(c.Component);f.propTypes={callbacks:l.default.object.isRequired,webcamExists:l.default.bool,isMicroActived:l.default.bool,isZoomActived:l.default.bool,isWebcamActived:l.default.bool,isClient:l.default.bool.isRequired,isConnected:l.default.bool},f.defaultProps={callbacks:{},webcamExists:!0,isMicroActived:!0,isZoomActived:!1,isWebcamActived:!0,isClient:!0,isConnected:!1},t.default=f},function(e,t){}]);